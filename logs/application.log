2024-09-19 10:39:36 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 10:39:36 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 10:39:36 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 10:39:47 | INFO | Successfully GET / | healthcheck | app.app | 
2024-09-19 10:40:36 | INFO | Docker client initialized successfully | docker client | app.docker_client | 
2024-09-19 10:40:36 | INFO | Starting service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7f64ed274b90>', 'service_name': 'aldinokemal2104/go-whatsapp-web-multidevice:latest'}
2024-09-19 10:40:36 | ERROR | Failed to start service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7f64ed274b90>', 'service_name': 'aldinokemal2104/go-whatsapp-web-multidevice:latest'}
[33m[1mTraceback (most recent call last):[0m

  File "<string>", line 1, in <module>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 4
               â”‚     â”” 7
               â”” <function _main at 0x7f64efbe0540>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 4
           â”‚    â”” <function BaseProcess._bootstrap at 0x7f64efcc9940>
           â”” <SpawnProcess name='SpawnProcess-1' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x7f64efcc8ea0>
    â”” <SpawnProcess name='SpawnProcess-1' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x7f64eda1f560>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-1' parent=154103 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-1' parent=154103 started>
    â”‚    â”” <function subprocess_started at 0x7f64eda162a0>
    â”” <SpawnProcess name='SpawnProcess-1' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x7f64eda53290>>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7f64eda15440>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7f64eda53290>
           â”‚       â”” <function run at 0x7f64eeed7b00>
           â”” <module 'asyncio' from '/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/__init__.py'>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           â”‚      â”‚   â”” <coroutine object Server.serve at 0x7f64eda39a80>
           â”‚      â”” <function Runner.run at 0x7f64eeefefc0>
           â”” <asyncio.runners.Runner object at 0x7f64eda53050>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           â”‚    â”‚     â”‚                  â”” <Task pending name='Task-1' coro=<Server.serve() running at /home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/pytho...
           â”‚    â”‚     â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”‚    â”” <uvloop.Loop running=True closed=False debug=False>
           â”” <asyncio.runners.Runner object at 0x7f64eda53050>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f64eda52d80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f64ed25f3...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f64ed2...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x7f64ef68a540>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f64eda52d80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f64ed25f3...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f64ed2...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f64ed25f3...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f64ed2...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f64ed41fc20>
          â”” <fastapi.applications.FastAPI object at 0x7f64ef68a540>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f64ed267ce0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f64ed2...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x7f64ed41fd40>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f64ed41fc20>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua': '"Chromium";v="128", "Not;...
          â”‚    â”‚               â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f64ed267ce0>
          â”‚    â”‚               â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f64ed2...
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x7f64ed6b9580>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x7f64ed41fd40>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f64ed41fd40>>, ...
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f64ed2...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f64ed41ffe0>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x7f64ed41fd40>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f64ed41fd40>>, ...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f64ed2...
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x7f64ed25e930>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x7f64ed6c0200>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f64ed41ffe0>
          â”” <function wrap_app_handling_exceptions at 0x7f64edb3ff60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f64ed439ee0>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f64ed2...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x7f64ed6c0200>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f64ed439ee0>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f64ed2...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f64ed6c0200>>
          â”” <fastapi.routing.APIRouter object at 0x7f64ed6c0200>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f64ed439ee0>
          â”‚     â”‚      â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f64ed2...
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚     â”” <function Route.handle at 0x7f64edb65760>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f64ed439ee0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f64ed2...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x7f64ed43aac0>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f64ed439ee0>
          â”‚                            â”‚    â”‚        â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f64ed2...
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x7f64ed274b90>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x7f64ed4399e0>
          â”” <function wrap_app_handling_exceptions at 0x7f64edb3ff60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f64ed439c60>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f64ed2...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x7f64ed4399e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x7f64ed274b90>
                     â”” <function get_request_handler.<locals>.app at 0x7f64ed43aa20>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x7f64edb3f560>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'docker_client': <app.docker_client.DockerClient object at 0x7f64ed5678f0>, 'service_image_name': 'aldinokemal2104/go-whatsa...
                 â”‚         â”” <function run_service at 0x7f64ed5b2e80>
                 â”” Dependant(path_params=[], query_params=[ModelField(field_info=Query(aldinokemal2104/go-whatsapp-web-multidevice:latest), name...

> File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mroutes.py[0m", line [33m38[0m, in [35mrun_service[0m
    [1mdocker_client[0m[35m[1m.[0m[1mservice_up[0m[1m([0m
    [36mâ”‚             â”” [0m[36m[1m<function DockerClient.service_up at 0x7f64ed41b7e0>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x7f64ed5678f0>[0m

[31m[1mTypeError[0m:[1m DockerClient.service_up() got an unexpected keyword argument 'name'[0m
2024-09-19 10:41:16 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 10:41:16 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 10:41:16 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 10:41:19 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 10:41:19 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 10:41:19 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 10:41:26 | INFO | Docker client initialized successfully | docker client | app.docker_client | 
2024-09-19 10:41:26 | INFO | Starting service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7377c848f0e0>', 'service_name': 'aldinokemal2104/go-whatsapp-web-multidevice:latest'}
2024-09-19 10:41:26 | ERROR | Failed to start service aldinokemal2104/go-whatsapp-web-multidevice:latest | docker client | app.docker_client | 
[33m[1mTraceback (most recent call last):[0m

  File "<string>", line 1, in <module>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 4
               â”‚     â”” 10
               â”” <function _main at 0x7377cade0540>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 4
           â”‚    â”” <function BaseProcess._bootstrap at 0x7377caec9940>
           â”” <SpawnProcess name='SpawnProcess-3' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x7377caec8ea0>
    â”” <SpawnProcess name='SpawnProcess-3' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x7377c8c17530>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-3' parent=154103 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-3' parent=154103 started>
    â”‚    â”” <function subprocess_started at 0x7377c8c0e2a0>
    â”” <SpawnProcess name='SpawnProcess-3' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x7377c8c4b1a0>>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7377c8c0d440>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7377c8c4b1a0>
           â”‚       â”” <function run at 0x7377ca123b00>
           â”” <module 'asyncio' from '/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/__init__.py'>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           â”‚      â”‚   â”” <coroutine object Server.serve at 0x7377c8c31a80>
           â”‚      â”” <function Runner.run at 0x7377ca14afc0>
           â”” <asyncio.runners.Runner object at 0x7377c8d9d3d0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           â”‚    â”‚     â”‚                  â”” <Task pending name='Task-1' coro=<Server.serve() running at /home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/pytho...
           â”‚    â”‚     â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”‚    â”” <uvloop.Loop running=True closed=False debug=False>
           â”” <asyncio.runners.Runner object at 0x7377c8d9d3d0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7377c8c4b350>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c848ee...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x7377c85af080>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7377c8c4b350>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c848ee...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c848ee...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7377c8c74140>
          â”” <fastapi.applications.FastAPI object at 0x7377c85af080>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x7377c86719e0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x7377c85e83e0>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7377c8c74140>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua': '"Chromium";v="128", "Not;...
          â”‚    â”‚               â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x7377c86719e0>
          â”‚    â”‚               â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x7377c88b1580>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x7377c85e83e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7377c85e83e0>>, ...
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7377c8eb4e30>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x7377c85e83e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7377c85e83e0>>, ...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x7377c848eed0>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x7377c889b920>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7377c8eb4e30>
          â”” <function wrap_app_handling_exceptions at 0x7377c8d37f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7377c8671a80>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x7377c889b920>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7377c8671a80>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x7377c889b920>>
          â”” <fastapi.routing.APIRouter object at 0x7377c889b920>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7377c8671a80>
          â”‚     â”‚      â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚     â”” <function Route.handle at 0x7377c8d5d760>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7377c8671a80>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x7377c8672a20>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7377c8671a80>
          â”‚                            â”‚    â”‚        â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x7377c848f0e0>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x7377c8671bc0>
          â”” <function wrap_app_handling_exceptions at 0x7377c8d37f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7377c8671d00>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x7377c8671bc0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x7377c848f0e0>
                     â”” <function get_request_handler.<locals>.app at 0x7377c8672980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x7377c8d37560>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'docker_client': <app.docker_client.DockerClient object at 0x7377c8652e70>, 'service_image_name': 'aldinokemal2104/go-whatsa...
                 â”‚         â”” <function run_service at 0x7377c87aade0>
                 â”” Dependant(path_params=[], query_params=[ModelField(field_info=Query(aldinokemal2104/go-whatsapp-web-multidevice:latest), name...

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mroutes.py[0m", line [33m38[0m, in [35mrun_service[0m
    [1mdocker_client[0m[35m[1m.[0m[1mservice_up[0m[1m([0m
    [36mâ”‚             â”” [0m[36m[1m<function DockerClient.service_up at 0x7377c864f740>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x7377c8652e70>[0m

> File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m39[0m, in [35mservice_up[0m
    [1mself[0m[35m[1m.[0m[1mclient[0m[35m[1m.[0m[1mcontainers[0m[35m[1m.[0m[1mrun[0m[1m([0m[1mimage_name[0m[1m,[0m [1mname[0m[35m[1m=[0m[1mname[0m[1m,[0m [1mports[0m[35m[1m=[0m[1mports[0m[1m,[0m [1menvironment[0m[35m[1m=[0m[1menvironment[0m[1m,[0m [1mdetach[0m[35m[1m=[0m[36m[1mTrue[0m[1m)[0m
    [36mâ”‚                          â”‚                â”‚           â”‚                  â”” [0m[36m[1m{'OS_NAME': 'linux', 'BASIC_AUTH': 'False', 'PORT': 8080, 'DEBUG': 'False', 'AUTOREPLY': 'True', 'WEBHOOK': 'True', 'WEBHOOK_...[0m
    [36mâ”‚                          â”‚                â”‚           â”” [0m[36m[1m{'8080/tcp': 8080}[0m
    [36mâ”‚                          â”‚                â”” [0m[36m[1m'go-whatsapp-web-multidevice'[0m
    [36mâ”‚                          â”” [0m[36m[1m'aldinokemal2104/go-whatsapp-web-multidevice:latest'[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x7377c8652e70>[0m

[31m[1mAttributeError[0m:[1m 'DockerClient' object has no attribute 'client'[0m
2024-09-19 10:41:26 | ERROR | Failed to start service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7377c848f0e0>', 'service_name': 'aldinokemal2104/go-whatsapp-web-multidevice:latest'}
[33m[1mTraceback (most recent call last):[0m

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m39[0m, in [35mservice_up[0m
    [1mself[0m[35m[1m.[0m[1mclient[0m[35m[1m.[0m[1mcontainers[0m[35m[1m.[0m[1mrun[0m[1m([0m[1mimage_name[0m[1m,[0m [1mname[0m[35m[1m=[0m[1mname[0m[1m,[0m [1mports[0m[35m[1m=[0m[1mports[0m[1m,[0m [1menvironment[0m[35m[1m=[0m[1menvironment[0m[1m,[0m [1mdetach[0m[35m[1m=[0m[36m[1mTrue[0m[1m)[0m
    [36mâ”‚                          â”‚                â”‚           â”‚                  â”” [0m[36m[1m{'OS_NAME': 'linux', 'BASIC_AUTH': 'False', 'PORT': 8080, 'DEBUG': 'False', 'AUTOREPLY': 'True', 'WEBHOOK': 'True', 'WEBHOOK_...[0m
    [36mâ”‚                          â”‚                â”‚           â”” [0m[36m[1m{'8080/tcp': 8080}[0m
    [36mâ”‚                          â”‚                â”” [0m[36m[1m'go-whatsapp-web-multidevice'[0m
    [36mâ”‚                          â”” [0m[36m[1m'aldinokemal2104/go-whatsapp-web-multidevice:latest'[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x7377c8652e70>[0m

[31m[1mAttributeError[0m:[1m 'DockerClient' object has no attribute 'client'[0m


[1mDuring handling of the above exception, another exception occurred:[0m


[33m[1mTraceback (most recent call last):[0m

  File "<string>", line 1, in <module>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 4
               â”‚     â”” 10
               â”” <function _main at 0x7377cade0540>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 4
           â”‚    â”” <function BaseProcess._bootstrap at 0x7377caec9940>
           â”” <SpawnProcess name='SpawnProcess-3' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x7377caec8ea0>
    â”” <SpawnProcess name='SpawnProcess-3' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x7377c8c17530>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-3' parent=154103 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-3' parent=154103 started>
    â”‚    â”” <function subprocess_started at 0x7377c8c0e2a0>
    â”” <SpawnProcess name='SpawnProcess-3' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x7377c8c4b1a0>>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7377c8c0d440>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7377c8c4b1a0>
           â”‚       â”” <function run at 0x7377ca123b00>
           â”” <module 'asyncio' from '/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/__init__.py'>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           â”‚      â”‚   â”” <coroutine object Server.serve at 0x7377c8c31a80>
           â”‚      â”” <function Runner.run at 0x7377ca14afc0>
           â”” <asyncio.runners.Runner object at 0x7377c8d9d3d0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           â”‚    â”‚     â”‚                  â”” <Task pending name='Task-1' coro=<Server.serve() running at /home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/pytho...
           â”‚    â”‚     â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”‚    â”” <uvloop.Loop running=True closed=False debug=False>
           â”” <asyncio.runners.Runner object at 0x7377c8d9d3d0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7377c8c4b350>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c848ee...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x7377c85af080>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7377c8c4b350>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c848ee...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c848ee...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7377c8c74140>
          â”” <fastapi.applications.FastAPI object at 0x7377c85af080>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x7377c86719e0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x7377c85e83e0>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7377c8c74140>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua': '"Chromium";v="128", "Not;...
          â”‚    â”‚               â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x7377c86719e0>
          â”‚    â”‚               â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x7377c88b1580>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x7377c85e83e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7377c85e83e0>>, ...
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7377c8eb4e30>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x7377c85e83e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7377c85e83e0>>, ...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x7377c848eed0>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x7377c889b920>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7377c8eb4e30>
          â”” <function wrap_app_handling_exceptions at 0x7377c8d37f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7377c8671a80>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x7377c889b920>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7377c8671a80>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x7377c889b920>>
          â”” <fastapi.routing.APIRouter object at 0x7377c889b920>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7377c8671a80>
          â”‚     â”‚      â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚     â”” <function Route.handle at 0x7377c8d5d760>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7377c8671a80>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x7377c8672a20>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7377c8671a80>
          â”‚                            â”‚    â”‚        â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x7377c848f0e0>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x7377c8671bc0>
          â”” <function wrap_app_handling_exceptions at 0x7377c8d37f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7377c8671d00>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7377c84...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x7377c8671bc0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x7377c848f0e0>
                     â”” <function get_request_handler.<locals>.app at 0x7377c8672980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x7377c8d37560>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'docker_client': <app.docker_client.DockerClient object at 0x7377c8652e70>, 'service_image_name': 'aldinokemal2104/go-whatsa...
                 â”‚         â”” <function run_service at 0x7377c87aade0>
                 â”” Dependant(path_params=[], query_params=[ModelField(field_info=Query(aldinokemal2104/go-whatsapp-web-multidevice:latest), name...

> File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mroutes.py[0m", line [33m38[0m, in [35mrun_service[0m
    [1mdocker_client[0m[35m[1m.[0m[1mservice_up[0m[1m([0m
    [36mâ”‚             â”” [0m[36m[1m<function DockerClient.service_up at 0x7377c864f740>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x7377c8652e70>[0m

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m43[0m, in [35mservice_up[0m
    [35m[1mraise[0m [1mValueError[0m[1m([0m[1merr_msg[0m[1m)[0m
    [36m                 â”” [0m[36m[1m'Failed to start service aldinokemal2104/go-whatsapp-web-multidevice:latest'[0m

[31m[1mValueError[0m:[1m Failed to start service aldinokemal2104/go-whatsapp-web-multidevice:latest[0m
2024-09-19 10:42:23 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 10:42:23 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 10:42:23 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 10:42:31 | INFO | Docker client initialized successfully | docker client | app.docker_client | 
2024-09-19 10:42:31 | INFO | Starting service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7dc81a15c1d0>', 'service_name': 'aldinokemal2104/go-whatsapp-web-multidevice:latest'}
2024-09-19 10:42:38 | ERROR | Failed to start service aldinokemal2104/go-whatsapp-web-multidevice:latest | docker client | app.docker_client | 
[33m[1mTraceback (most recent call last):[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
    â”‚        â”” <function Response.raise_for_status at 0x7dc81a223c40>
    â”” <Response [500]>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
          â”‚         â”‚                        â”” <Response [500]>
          â”‚         â”” '500 Server Error: Internal Server Error for url: http+docker://localhost/v1.47/containers/998613945d3e71f2207be7a8584572d19f...
          â”” <class 'requests.exceptions.HTTPError'>

[31m[1mrequests.exceptions.HTTPError[0m:[1m 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.47/containers/998613945d3e71f2207be7a8584572d19fcb1b003358271664dfaf3bcfc203ec/start[0m


[1mThe above exception was the direct cause of the following exception:[0m


[33m[1mTraceback (most recent call last):[0m

  File "<string>", line 1, in <module>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 4
               â”‚     â”” 10
               â”” <function _main at 0x7dc81c8e0540>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 4
           â”‚    â”” <function BaseProcess._bootstrap at 0x7dc81c9c9940>
           â”” <SpawnProcess name='SpawnProcess-4' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x7dc81c9c8ea0>
    â”” <SpawnProcess name='SpawnProcess-4' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x7dc81a6f5010>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-4' parent=154103 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-4' parent=154103 started>
    â”‚    â”” <function subprocess_started at 0x7dc81a6ee2a0>
    â”” <SpawnProcess name='SpawnProcess-4' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x7dc81a72b140>>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7dc81a6ed440>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7dc81a72b140>
           â”‚       â”” <function run at 0x7dc81b747b00>
           â”” <module 'asyncio' from '/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/__init__.py'>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           â”‚      â”‚   â”” <coroutine object Server.serve at 0x7dc81a711a80>
           â”‚      â”” <function Runner.run at 0x7dc81b76efc0>
           â”” <asyncio.runners.Runner object at 0x7dc81a803a10>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           â”‚    â”‚     â”‚                  â”” <Task pending name='Task-1' coro=<Server.serve() running at /home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/pytho...
           â”‚    â”‚     â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”‚    â”” <uvloop.Loop running=True closed=False debug=False>
           â”” <asyncio.runners.Runner object at 0x7dc81a803a10>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7dc81a7695e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a15ef...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x7dc81a793f80>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7dc81a7695e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a15ef...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a15ef...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7dc81a127e00>
          â”” <fastapi.applications.FastAPI object at 0x7dc81a793f80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x7dc81a1459e0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x7dc81a323440>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7dc81a127e00>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua': '"Chromium";v="128", "Not;...
          â”‚    â”‚               â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x7dc81a1459e0>
          â”‚    â”‚               â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x7dc81a391580>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x7dc81a323440>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7dc81a323440>>, ...
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7dc81a127d40>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x7dc81a323440>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7dc81a323440>>, ...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x7dc81a15f0b0>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x7dc81a377a70>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7dc81a127d40>
          â”” <function wrap_app_handling_exceptions at 0x7dc81a813f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7dc81a145a80>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x7dc81a377a70>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7dc81a145a80>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x7dc81a377a70>>
          â”” <fastapi.routing.APIRouter object at 0x7dc81a377a70>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7dc81a145a80>
          â”‚     â”‚      â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚     â”” <function Route.handle at 0x7dc81a839760>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7dc81a145a80>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x7dc81a146a20>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7dc81a145a80>
          â”‚                            â”‚    â”‚        â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x7dc81a15c1d0>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x7dc81a145bc0>
          â”” <function wrap_app_handling_exceptions at 0x7dc81a813f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7dc81a145d00>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x7dc81a145bc0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x7dc81a15c1d0>
                     â”” <function get_request_handler.<locals>.app at 0x7dc81a146980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x7dc81a813560>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'docker_client': <app.docker_client.DockerClient object at 0x7dc81a236060>, 'service_image_name': 'aldinokemal2104/go-whatsa...
                 â”‚         â”” <function run_service at 0x7dc81a286de0>
                 â”” Dependant(path_params=[], query_params=[ModelField(field_info=Query(aldinokemal2104/go-whatsapp-web-multidevice:latest), name...

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mroutes.py[0m", line [33m38[0m, in [35mrun_service[0m
    [1mdocker_client[0m[35m[1m.[0m[1mservice_up[0m[1m([0m
    [36mâ”‚             â”” [0m[36m[1m<function DockerClient.service_up at 0x7dc81a123740>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x7dc81a236060>[0m

> File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m39[0m, in [35mservice_up[0m
    [1mself[0m[35m[1m.[0m[1mclient[0m[35m[1m.[0m[1mcontainers[0m[35m[1m.[0m[1mrun[0m[1m([0m[1mimage_name[0m[1m,[0m [1mname[0m[35m[1m=[0m[1mname[0m[1m,[0m [1mports[0m[35m[1m=[0m[1mports[0m[1m,[0m [1menvironment[0m[35m[1m=[0m[1menvironment[0m[1m,[0m [1mdetach[0m[35m[1m=[0m[36m[1mTrue[0m[1m)[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”‚                  â”” [0m[36m[1m{'OS_NAME': 'linux', 'BASIC_AUTH': 'False', 'PORT': 8080, 'DEBUG': 'False', 'AUTOREPLY': 'True', 'WEBHOOK': 'True', 'WEBHOOK_...[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”” [0m[36m[1m{'8080/tcp': 8080}[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”” [0m[36m[1m'go-whatsapp-web-multidevice'[0m
    [36mâ”‚    â”‚      â”‚              â”” [0m[36m[1m'aldinokemal2104/go-whatsapp-web-multidevice:latest'[0m
    [36mâ”‚    â”‚      â”” [0m[36m[1m<property object at 0x7dc81a100720>[0m
    [36mâ”‚    â”” [0m[36m[1m<docker.client.DockerClient object at 0x7dc81b7ea1e0>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x7dc81a236060>[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 883, in run
    container.start()
    â”‚         â”” <function Container.start at 0x7dc81a113060>
    â”” <Container: 998613945d3e>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 420, in start
    return self.client.api.start(self.id, **kwargs)
           â”‚    â”‚      â”‚   â”‚     â”‚    â”‚     â”” {}
           â”‚    â”‚      â”‚   â”‚     â”‚    â”” <property object at 0x7dc81a100b30>
           â”‚    â”‚      â”‚   â”‚     â”” <Container: 998613945d3e>
           â”‚    â”‚      â”‚   â”” <function ContainerApiMixin.start at 0x7dc81a0dea20>
           â”‚    â”‚      â”” <docker.api.client.APIClient object at 0x7dc819f796d0>
           â”‚    â”” <docker.client.DockerClient object at 0x7dc81b7ea1e0>
           â”” <Container: 998613945d3e>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/utils/decorators.py", line 19, in wrapped
    return f(self, resource_id, *args, **kwargs)
           â”‚ â”‚     â”‚             â”‚       â”” {}
           â”‚ â”‚     â”‚             â”” ()
           â”‚ â”‚     â”” '998613945d3e71f2207be7a8584572d19fcb1b003358271664dfaf3bcfc203ec'
           â”‚ â”” <docker.api.client.APIClient object at 0x7dc819f796d0>
           â”” <function ContainerApiMixin.start at 0x7dc81a0de980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 1136, in start
    self._raise_for_status(res)
    â”‚    â”‚                 â”” <Response [500]>
    â”‚    â”” <function APIClient._raise_for_status at 0x7dc81a0fa520>
    â”” <docker.api.client.APIClient object at 0x7dc819f796d0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
          â”” <function create_api_error_from_http_exception at 0x7dc81a24e020>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
          â”‚   â”‚           â”‚                     â”‚                 â”” HTTPError('500 Server Error: Internal Server Error for url: http+docker://localhost/v1.47/containers/998613945d3e71f2207be7a8...
          â”‚   â”‚           â”‚                     â”” 'driver failed programming external connectivity on endpoint go-whatsapp-web-multidevice (a1a70d8ae29e9df264be1b34d9a4509d1dc...
          â”‚   â”‚           â”” <Response [500]>
          â”‚   â”” HTTPError('500 Server Error: Internal Server Error for url: http+docker://localhost/v1.47/containers/998613945d3e71f2207be7a8...
          â”” <class 'docker.errors.APIError'>

[31m[1mdocker.errors.APIError[0m:[1m 500 Server Error for http+docker://localhost/v1.47/containers/998613945d3e71f2207be7a8584572d19fcb1b003358271664dfaf3bcfc203ec/start: Internal Server Error ("driver failed programming external connectivity on endpoint go-whatsapp-web-multidevice (a1a70d8ae29e9df264be1b34d9a4509d1dc054ae96000368f549d8dd11c04721): Bind for 0.0.0.0:8080 failed: port is already allocated")[0m
2024-09-19 10:42:38 | ERROR | Failed to start service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7dc81a15c1d0>', 'service_name': 'aldinokemal2104/go-whatsapp-web-multidevice:latest'}
[33m[1mTraceback (most recent call last):[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
    â”‚        â”” <function Response.raise_for_status at 0x7dc81a223c40>
    â”” <Response [500]>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
          â”‚         â”‚                        â”” <Response [500]>
          â”‚         â”” '500 Server Error: Internal Server Error for url: http+docker://localhost/v1.47/containers/998613945d3e71f2207be7a8584572d19f...
          â”” <class 'requests.exceptions.HTTPError'>

[31m[1mrequests.exceptions.HTTPError[0m:[1m 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.47/containers/998613945d3e71f2207be7a8584572d19fcb1b003358271664dfaf3bcfc203ec/start[0m


[1mThe above exception was the direct cause of the following exception:[0m


[33m[1mTraceback (most recent call last):[0m

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m39[0m, in [35mservice_up[0m
    [1mself[0m[35m[1m.[0m[1mclient[0m[35m[1m.[0m[1mcontainers[0m[35m[1m.[0m[1mrun[0m[1m([0m[1mimage_name[0m[1m,[0m [1mname[0m[35m[1m=[0m[1mname[0m[1m,[0m [1mports[0m[35m[1m=[0m[1mports[0m[1m,[0m [1menvironment[0m[35m[1m=[0m[1menvironment[0m[1m,[0m [1mdetach[0m[35m[1m=[0m[36m[1mTrue[0m[1m)[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”‚                  â”” [0m[36m[1m{'OS_NAME': 'linux', 'BASIC_AUTH': 'False', 'PORT': 8080, 'DEBUG': 'False', 'AUTOREPLY': 'True', 'WEBHOOK': 'True', 'WEBHOOK_...[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”” [0m[36m[1m{'8080/tcp': 8080}[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”” [0m[36m[1m'go-whatsapp-web-multidevice'[0m
    [36mâ”‚    â”‚      â”‚              â”” [0m[36m[1m'aldinokemal2104/go-whatsapp-web-multidevice:latest'[0m
    [36mâ”‚    â”‚      â”” [0m[36m[1m<property object at 0x7dc81a100720>[0m
    [36mâ”‚    â”” [0m[36m[1m<docker.client.DockerClient object at 0x7dc81b7ea1e0>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x7dc81a236060>[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 883, in run
    container.start()
    â”‚         â”” <function Container.start at 0x7dc81a113060>
    â”” <Container: 998613945d3e>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 420, in start
    return self.client.api.start(self.id, **kwargs)
           â”‚    â”‚      â”‚   â”‚     â”‚    â”‚     â”” {}
           â”‚    â”‚      â”‚   â”‚     â”‚    â”” <property object at 0x7dc81a100b30>
           â”‚    â”‚      â”‚   â”‚     â”” <Container: 998613945d3e>
           â”‚    â”‚      â”‚   â”” <function ContainerApiMixin.start at 0x7dc81a0dea20>
           â”‚    â”‚      â”” <docker.api.client.APIClient object at 0x7dc819f796d0>
           â”‚    â”” <docker.client.DockerClient object at 0x7dc81b7ea1e0>
           â”” <Container: 998613945d3e>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/utils/decorators.py", line 19, in wrapped
    return f(self, resource_id, *args, **kwargs)
           â”‚ â”‚     â”‚             â”‚       â”” {}
           â”‚ â”‚     â”‚             â”” ()
           â”‚ â”‚     â”” '998613945d3e71f2207be7a8584572d19fcb1b003358271664dfaf3bcfc203ec'
           â”‚ â”” <docker.api.client.APIClient object at 0x7dc819f796d0>
           â”” <function ContainerApiMixin.start at 0x7dc81a0de980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 1136, in start
    self._raise_for_status(res)
    â”‚    â”‚                 â”” <Response [500]>
    â”‚    â”” <function APIClient._raise_for_status at 0x7dc81a0fa520>
    â”” <docker.api.client.APIClient object at 0x7dc819f796d0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
          â”” <function create_api_error_from_http_exception at 0x7dc81a24e020>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
          â”‚   â”‚           â”‚                     â”‚                 â”” HTTPError('500 Server Error: Internal Server Error for url: http+docker://localhost/v1.47/containers/998613945d3e71f2207be7a8...
          â”‚   â”‚           â”‚                     â”” 'driver failed programming external connectivity on endpoint go-whatsapp-web-multidevice (a1a70d8ae29e9df264be1b34d9a4509d1dc...
          â”‚   â”‚           â”” <Response [500]>
          â”‚   â”” HTTPError('500 Server Error: Internal Server Error for url: http+docker://localhost/v1.47/containers/998613945d3e71f2207be7a8...
          â”” <class 'docker.errors.APIError'>

[31m[1mdocker.errors.APIError[0m:[1m 500 Server Error for http+docker://localhost/v1.47/containers/998613945d3e71f2207be7a8584572d19fcb1b003358271664dfaf3bcfc203ec/start: Internal Server Error ("driver failed programming external connectivity on endpoint go-whatsapp-web-multidevice (a1a70d8ae29e9df264be1b34d9a4509d1dc054ae96000368f549d8dd11c04721): Bind for 0.0.0.0:8080 failed: port is already allocated")[0m


[1mDuring handling of the above exception, another exception occurred:[0m


[33m[1mTraceback (most recent call last):[0m

  File "<string>", line 1, in <module>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 4
               â”‚     â”” 10
               â”” <function _main at 0x7dc81c8e0540>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 4
           â”‚    â”” <function BaseProcess._bootstrap at 0x7dc81c9c9940>
           â”” <SpawnProcess name='SpawnProcess-4' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x7dc81c9c8ea0>
    â”” <SpawnProcess name='SpawnProcess-4' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x7dc81a6f5010>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-4' parent=154103 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-4' parent=154103 started>
    â”‚    â”” <function subprocess_started at 0x7dc81a6ee2a0>
    â”” <SpawnProcess name='SpawnProcess-4' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x7dc81a72b140>>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7dc81a6ed440>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7dc81a72b140>
           â”‚       â”” <function run at 0x7dc81b747b00>
           â”” <module 'asyncio' from '/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/__init__.py'>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           â”‚      â”‚   â”” <coroutine object Server.serve at 0x7dc81a711a80>
           â”‚      â”” <function Runner.run at 0x7dc81b76efc0>
           â”” <asyncio.runners.Runner object at 0x7dc81a803a10>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           â”‚    â”‚     â”‚                  â”” <Task pending name='Task-1' coro=<Server.serve() running at /home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/pytho...
           â”‚    â”‚     â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”‚    â”” <uvloop.Loop running=True closed=False debug=False>
           â”” <asyncio.runners.Runner object at 0x7dc81a803a10>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7dc81a7695e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a15ef...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x7dc81a793f80>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7dc81a7695e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a15ef...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a15ef...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7dc81a127e00>
          â”” <fastapi.applications.FastAPI object at 0x7dc81a793f80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x7dc81a1459e0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x7dc81a323440>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7dc81a127e00>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua': '"Chromium";v="128", "Not;...
          â”‚    â”‚               â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x7dc81a1459e0>
          â”‚    â”‚               â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x7dc81a391580>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x7dc81a323440>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7dc81a323440>>, ...
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7dc81a127d40>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x7dc81a323440>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7dc81a323440>>, ...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x7dc81a15f0b0>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x7dc81a377a70>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7dc81a127d40>
          â”” <function wrap_app_handling_exceptions at 0x7dc81a813f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7dc81a145a80>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x7dc81a377a70>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7dc81a145a80>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x7dc81a377a70>>
          â”” <fastapi.routing.APIRouter object at 0x7dc81a377a70>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7dc81a145a80>
          â”‚     â”‚      â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚     â”” <function Route.handle at 0x7dc81a839760>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7dc81a145a80>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x7dc81a146a20>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7dc81a145a80>
          â”‚                            â”‚    â”‚        â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x7dc81a15c1d0>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x7dc81a145bc0>
          â”” <function wrap_app_handling_exceptions at 0x7dc81a813f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7dc81a145d00>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc81a1...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x7dc81a145bc0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x7dc81a15c1d0>
                     â”” <function get_request_handler.<locals>.app at 0x7dc81a146980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x7dc81a813560>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'docker_client': <app.docker_client.DockerClient object at 0x7dc81a236060>, 'service_image_name': 'aldinokemal2104/go-whatsa...
                 â”‚         â”” <function run_service at 0x7dc81a286de0>
                 â”” Dependant(path_params=[], query_params=[ModelField(field_info=Query(aldinokemal2104/go-whatsapp-web-multidevice:latest), name...

> File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mroutes.py[0m", line [33m38[0m, in [35mrun_service[0m
    [1mdocker_client[0m[35m[1m.[0m[1mservice_up[0m[1m([0m
    [36mâ”‚             â”” [0m[36m[1m<function DockerClient.service_up at 0x7dc81a123740>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x7dc81a236060>[0m

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m43[0m, in [35mservice_up[0m
    [35m[1mraise[0m [1mValueError[0m[1m([0m[1merr_msg[0m[1m)[0m
    [36m                 â”” [0m[36m[1m'Failed to start service aldinokemal2104/go-whatsapp-web-multidevice:latest'[0m

[31m[1mValueError[0m:[1m Failed to start service aldinokemal2104/go-whatsapp-web-multidevice:latest[0m
2024-09-19 10:43:57 | INFO | Starting service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7dc819fde360>', 'service_name': 'aldinokemal2104/go-whatsapp-web-multidevice:latest'}
2024-09-19 10:43:57 | ERROR | Failed to start service aldinokemal2104/go-whatsapp-web-multidevice:latest | docker client | app.docker_client | 
[33m[1mTraceback (most recent call last):[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
    â”‚        â”” <function Response.raise_for_status at 0x7dc81a223c40>
    â”” <Response [409]>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
          â”‚         â”‚                        â”” <Response [409]>
          â”‚         â”” '409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-web-multidevice'
          â”” <class 'requests.exceptions.HTTPError'>

[31m[1mrequests.exceptions.HTTPError[0m:[1m 409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-web-multidevice[0m


[1mThe above exception was the direct cause of the following exception:[0m


[33m[1mTraceback (most recent call last):[0m

  File "<string>", line 1, in <module>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 4
               â”‚     â”” 10
               â”” <function _main at 0x7dc81c8e0540>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 4
           â”‚    â”” <function BaseProcess._bootstrap at 0x7dc81c9c9940>
           â”” <SpawnProcess name='SpawnProcess-4' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x7dc81c9c8ea0>
    â”” <SpawnProcess name='SpawnProcess-4' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x7dc81a6f5010>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-4' parent=154103 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-4' parent=154103 started>
    â”‚    â”” <function subprocess_started at 0x7dc81a6ee2a0>
    â”” <SpawnProcess name='SpawnProcess-4' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x7dc81a72b140>>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7dc81a6ed440>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7dc81a72b140>
           â”‚       â”” <function run at 0x7dc81b747b00>
           â”” <module 'asyncio' from '/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/__init__.py'>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           â”‚      â”‚   â”” <coroutine object Server.serve at 0x7dc81a711a80>
           â”‚      â”” <function Runner.run at 0x7dc81b76efc0>
           â”” <asyncio.runners.Runner object at 0x7dc81a803a10>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           â”‚    â”‚     â”‚                  â”” <Task pending name='Task-1' coro=<Server.serve() running at /home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/pytho...
           â”‚    â”‚     â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”‚    â”” <uvloop.Loop running=True closed=False debug=False>
           â”” <asyncio.runners.Runner object at 0x7dc81a803a10>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7dc81a7695e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819fde5...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x7dc81a793f80>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7dc81a7695e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819fde5...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819fde5...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7dc81a127e00>
          â”” <fastapi.applications.FastAPI object at 0x7dc81a793f80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x7dc819ea5120>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x7dc81a323440>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7dc81a127e00>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua': '"Chromium";v="128", "Not;...
          â”‚    â”‚               â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x7dc819ea5120>
          â”‚    â”‚               â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x7dc81a391580>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x7dc81a323440>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7dc81a323440>>, ...
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7dc81a127d40>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x7dc81a323440>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7dc81a323440>>, ...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x7dc819fde450>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x7dc81a377a70>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7dc81a127d40>
          â”” <function wrap_app_handling_exceptions at 0x7dc81a813f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7dc819ea4fe0>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x7dc81a377a70>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7dc819ea4fe0>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x7dc81a377a70>>
          â”” <fastapi.routing.APIRouter object at 0x7dc81a377a70>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7dc819ea4fe0>
          â”‚     â”‚      â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚     â”” <function Route.handle at 0x7dc81a839760>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7dc819ea4fe0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x7dc81a146a20>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7dc819ea4fe0>
          â”‚                            â”‚    â”‚        â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x7dc819fde360>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x7dc819ea5260>
          â”” <function wrap_app_handling_exceptions at 0x7dc81a813f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7dc819ea5300>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x7dc819ea5260>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x7dc819fde360>
                     â”” <function get_request_handler.<locals>.app at 0x7dc81a146980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x7dc81a813560>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'docker_client': <app.docker_client.DockerClient object at 0x7dc81a236060>, 'service_image_name': 'aldinokemal2104/go-whatsa...
                 â”‚         â”” <function run_service at 0x7dc81a286de0>
                 â”” Dependant(path_params=[], query_params=[ModelField(field_info=Query(aldinokemal2104/go-whatsapp-web-multidevice:latest), name...

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mroutes.py[0m", line [33m38[0m, in [35mrun_service[0m
    [1mdocker_client[0m[35m[1m.[0m[1mservice_up[0m[1m([0m
    [36mâ”‚             â”” [0m[36m[1m<function DockerClient.service_up at 0x7dc81a123740>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x7dc81a236060>[0m

> File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m39[0m, in [35mservice_up[0m
    [1mself[0m[35m[1m.[0m[1mclient[0m[35m[1m.[0m[1mcontainers[0m[35m[1m.[0m[1mrun[0m[1m([0m[1mimage_name[0m[1m,[0m [1mname[0m[35m[1m=[0m[1mname[0m[1m,[0m [1mports[0m[35m[1m=[0m[1mports[0m[1m,[0m [1menvironment[0m[35m[1m=[0m[1menvironment[0m[1m,[0m [1mdetach[0m[35m[1m=[0m[36m[1mTrue[0m[1m)[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”‚                  â”” [0m[36m[1m{'OS_NAME': 'linux', 'BASIC_AUTH': 'False', 'PORT': 8080, 'DEBUG': 'False', 'AUTOREPLY': 'True', 'WEBHOOK': 'True', 'WEBHOOK_...[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”” [0m[36m[1m{'8080/tcp': 8080}[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”” [0m[36m[1m'go-whatsapp-web-multidevice'[0m
    [36mâ”‚    â”‚      â”‚              â”” [0m[36m[1m'aldinokemal2104/go-whatsapp-web-multidevice:latest'[0m
    [36mâ”‚    â”‚      â”” [0m[36m[1m<property object at 0x7dc81a100720>[0m
    [36mâ”‚    â”” [0m[36m[1m<docker.client.DockerClient object at 0x7dc81b7ea1e0>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x7dc81a236060>[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 876, in run
    container = self.create(image=image, command=command,
                â”‚    â”‚            â”‚              â”” None
                â”‚    â”‚            â”” 'aldinokemal2104/go-whatsapp-web-multidevice:latest'
                â”‚    â”” <function ContainerCollection.create at 0x7dc81a113560>
                â”” <docker.models.containers.ContainerCollection object at 0x7dc81a6f7320>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 935, in create
    resp = self.client.api.create_container(**create_kwargs)
           â”‚    â”‚      â”‚   â”‚                  â”” {'detach': True, 'name': 'go-whatsapp-web-multidevice', 'environment': {'OS_NAME': 'linux', 'BASIC_AUTH': 'False', 'PORT': 80...
           â”‚    â”‚      â”‚   â”” <function ContainerApiMixin.create_container at 0x7dc81a0dd3a0>
           â”‚    â”‚      â”” <docker.api.client.APIClient object at 0x7dc819f796d0>
           â”‚    â”” <docker.client.DockerClient object at 0x7dc81b7ea1e0>
           â”” <docker.models.containers.ContainerCollection object at 0x7dc81a6f7320>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 440, in create_container
    return self.create_container_from_config(config, name, platform)
           â”‚    â”‚                            â”‚       â”‚     â”” None
           â”‚    â”‚                            â”‚       â”” 'go-whatsapp-web-multidevice'
           â”‚    â”‚                            â”” {'Hostname': None, 'Domainname': None, 'ExposedPorts': {'8080/tcp': {}}, 'User': None, 'Tty': False, 'OpenStdin': False, 'Std...
           â”‚    â”” <function ContainerApiMixin.create_container_from_config at 0x7dc81a0dd4e0>
           â”” <docker.api.client.APIClient object at 0x7dc819f796d0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 457, in create_container_from_config
    return self._result(res, True)
           â”‚    â”‚       â”” <Response [409]>
           â”‚    â”” <function APIClient._result at 0x7dc81a0fa5c0>
           â”” <docker.api.client.APIClient object at 0x7dc819f796d0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 281, in _result
    self._raise_for_status(response)
    â”‚    â”‚                 â”” <Response [409]>
    â”‚    â”” <function APIClient._raise_for_status at 0x7dc81a0fa520>
    â”” <docker.api.client.APIClient object at 0x7dc819f796d0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
          â”” <function create_api_error_from_http_exception at 0x7dc81a24e020>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
          â”‚   â”‚           â”‚                     â”‚                 â”” HTTPError('409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-web-multidevi...
          â”‚   â”‚           â”‚                     â”” 'Conflict. The container name "/go-whatsapp-web-multidevice" is already in use by container "998613945d3e71f2207be7a8584572d1...
          â”‚   â”‚           â”” <Response [409]>
          â”‚   â”” HTTPError('409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-web-multidevi...
          â”” <class 'docker.errors.APIError'>

[31m[1mdocker.errors.APIError[0m:[1m 409 Client Error for http+docker://localhost/v1.47/containers/create?name=go-whatsapp-web-multidevice: Conflict ("Conflict. The container name "/go-whatsapp-web-multidevice" is already in use by container "998613945d3e71f2207be7a8584572d19fcb1b003358271664dfaf3bcfc203ec". You have to remove (or rename) that container to be able to reuse that name.")[0m
2024-09-19 10:43:57 | ERROR | Failed to start service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7dc819fde360>', 'service_name': 'aldinokemal2104/go-whatsapp-web-multidevice:latest'}
[33m[1mTraceback (most recent call last):[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
    â”‚        â”” <function Response.raise_for_status at 0x7dc81a223c40>
    â”” <Response [409]>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
          â”‚         â”‚                        â”” <Response [409]>
          â”‚         â”” '409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-web-multidevice'
          â”” <class 'requests.exceptions.HTTPError'>

[31m[1mrequests.exceptions.HTTPError[0m:[1m 409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-web-multidevice[0m


[1mThe above exception was the direct cause of the following exception:[0m


[33m[1mTraceback (most recent call last):[0m

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m39[0m, in [35mservice_up[0m
    [1mself[0m[35m[1m.[0m[1mclient[0m[35m[1m.[0m[1mcontainers[0m[35m[1m.[0m[1mrun[0m[1m([0m[1mimage_name[0m[1m,[0m [1mname[0m[35m[1m=[0m[1mname[0m[1m,[0m [1mports[0m[35m[1m=[0m[1mports[0m[1m,[0m [1menvironment[0m[35m[1m=[0m[1menvironment[0m[1m,[0m [1mdetach[0m[35m[1m=[0m[36m[1mTrue[0m[1m)[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”‚                  â”” [0m[36m[1m{'OS_NAME': 'linux', 'BASIC_AUTH': 'False', 'PORT': 8080, 'DEBUG': 'False', 'AUTOREPLY': 'True', 'WEBHOOK': 'True', 'WEBHOOK_...[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”” [0m[36m[1m{'8080/tcp': 8080}[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”” [0m[36m[1m'go-whatsapp-web-multidevice'[0m
    [36mâ”‚    â”‚      â”‚              â”” [0m[36m[1m'aldinokemal2104/go-whatsapp-web-multidevice:latest'[0m
    [36mâ”‚    â”‚      â”” [0m[36m[1m<property object at 0x7dc81a100720>[0m
    [36mâ”‚    â”” [0m[36m[1m<docker.client.DockerClient object at 0x7dc81b7ea1e0>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x7dc81a236060>[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 876, in run
    container = self.create(image=image, command=command,
                â”‚    â”‚            â”‚              â”” None
                â”‚    â”‚            â”” 'aldinokemal2104/go-whatsapp-web-multidevice:latest'
                â”‚    â”” <function ContainerCollection.create at 0x7dc81a113560>
                â”” <docker.models.containers.ContainerCollection object at 0x7dc81a6f7320>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 935, in create
    resp = self.client.api.create_container(**create_kwargs)
           â”‚    â”‚      â”‚   â”‚                  â”” {'detach': True, 'name': 'go-whatsapp-web-multidevice', 'environment': {'OS_NAME': 'linux', 'BASIC_AUTH': 'False', 'PORT': 80...
           â”‚    â”‚      â”‚   â”” <function ContainerApiMixin.create_container at 0x7dc81a0dd3a0>
           â”‚    â”‚      â”” <docker.api.client.APIClient object at 0x7dc819f796d0>
           â”‚    â”” <docker.client.DockerClient object at 0x7dc81b7ea1e0>
           â”” <docker.models.containers.ContainerCollection object at 0x7dc81a6f7320>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 440, in create_container
    return self.create_container_from_config(config, name, platform)
           â”‚    â”‚                            â”‚       â”‚     â”” None
           â”‚    â”‚                            â”‚       â”” 'go-whatsapp-web-multidevice'
           â”‚    â”‚                            â”” {'Hostname': None, 'Domainname': None, 'ExposedPorts': {'8080/tcp': {}}, 'User': None, 'Tty': False, 'OpenStdin': False, 'Std...
           â”‚    â”” <function ContainerApiMixin.create_container_from_config at 0x7dc81a0dd4e0>
           â”” <docker.api.client.APIClient object at 0x7dc819f796d0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 457, in create_container_from_config
    return self._result(res, True)
           â”‚    â”‚       â”” <Response [409]>
           â”‚    â”” <function APIClient._result at 0x7dc81a0fa5c0>
           â”” <docker.api.client.APIClient object at 0x7dc819f796d0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 281, in _result
    self._raise_for_status(response)
    â”‚    â”‚                 â”” <Response [409]>
    â”‚    â”” <function APIClient._raise_for_status at 0x7dc81a0fa520>
    â”” <docker.api.client.APIClient object at 0x7dc819f796d0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
          â”” <function create_api_error_from_http_exception at 0x7dc81a24e020>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
          â”‚   â”‚           â”‚                     â”‚                 â”” HTTPError('409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-web-multidevi...
          â”‚   â”‚           â”‚                     â”” 'Conflict. The container name "/go-whatsapp-web-multidevice" is already in use by container "998613945d3e71f2207be7a8584572d1...
          â”‚   â”‚           â”” <Response [409]>
          â”‚   â”” HTTPError('409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-web-multidevi...
          â”” <class 'docker.errors.APIError'>

[31m[1mdocker.errors.APIError[0m:[1m 409 Client Error for http+docker://localhost/v1.47/containers/create?name=go-whatsapp-web-multidevice: Conflict ("Conflict. The container name "/go-whatsapp-web-multidevice" is already in use by container "998613945d3e71f2207be7a8584572d19fcb1b003358271664dfaf3bcfc203ec". You have to remove (or rename) that container to be able to reuse that name.")[0m


[1mDuring handling of the above exception, another exception occurred:[0m


[33m[1mTraceback (most recent call last):[0m

  File "<string>", line 1, in <module>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 4
               â”‚     â”” 10
               â”” <function _main at 0x7dc81c8e0540>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 4
           â”‚    â”” <function BaseProcess._bootstrap at 0x7dc81c9c9940>
           â”” <SpawnProcess name='SpawnProcess-4' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x7dc81c9c8ea0>
    â”” <SpawnProcess name='SpawnProcess-4' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x7dc81a6f5010>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-4' parent=154103 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-4' parent=154103 started>
    â”‚    â”” <function subprocess_started at 0x7dc81a6ee2a0>
    â”” <SpawnProcess name='SpawnProcess-4' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x7dc81a72b140>>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7dc81a6ed440>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7dc81a72b140>
           â”‚       â”” <function run at 0x7dc81b747b00>
           â”” <module 'asyncio' from '/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/__init__.py'>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           â”‚      â”‚   â”” <coroutine object Server.serve at 0x7dc81a711a80>
           â”‚      â”” <function Runner.run at 0x7dc81b76efc0>
           â”” <asyncio.runners.Runner object at 0x7dc81a803a10>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           â”‚    â”‚     â”‚                  â”” <Task pending name='Task-1' coro=<Server.serve() running at /home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/pytho...
           â”‚    â”‚     â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”‚    â”” <uvloop.Loop running=True closed=False debug=False>
           â”” <asyncio.runners.Runner object at 0x7dc81a803a10>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7dc81a7695e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819fde5...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x7dc81a793f80>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7dc81a7695e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819fde5...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819fde5...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7dc81a127e00>
          â”” <fastapi.applications.FastAPI object at 0x7dc81a793f80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x7dc819ea5120>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x7dc81a323440>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7dc81a127e00>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua': '"Chromium";v="128", "Not;...
          â”‚    â”‚               â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x7dc819ea5120>
          â”‚    â”‚               â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x7dc81a391580>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x7dc81a323440>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7dc81a323440>>, ...
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7dc81a127d40>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x7dc81a323440>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7dc81a323440>>, ...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x7dc819fde450>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x7dc81a377a70>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7dc81a127d40>
          â”” <function wrap_app_handling_exceptions at 0x7dc81a813f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7dc819ea4fe0>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x7dc81a377a70>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7dc819ea4fe0>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x7dc81a377a70>>
          â”” <fastapi.routing.APIRouter object at 0x7dc81a377a70>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7dc819ea4fe0>
          â”‚     â”‚      â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚     â”” <function Route.handle at 0x7dc81a839760>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7dc819ea4fe0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x7dc81a146a20>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7dc819ea4fe0>
          â”‚                            â”‚    â”‚        â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x7dc819fde360>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x7dc819ea5260>
          â”” <function wrap_app_handling_exceptions at 0x7dc81a813f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7dc819ea5300>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7dc819f...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x7dc819ea5260>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x7dc819fde360>
                     â”” <function get_request_handler.<locals>.app at 0x7dc81a146980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x7dc81a813560>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'docker_client': <app.docker_client.DockerClient object at 0x7dc81a236060>, 'service_image_name': 'aldinokemal2104/go-whatsa...
                 â”‚         â”” <function run_service at 0x7dc81a286de0>
                 â”” Dependant(path_params=[], query_params=[ModelField(field_info=Query(aldinokemal2104/go-whatsapp-web-multidevice:latest), name...

> File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mroutes.py[0m", line [33m38[0m, in [35mrun_service[0m
    [1mdocker_client[0m[35m[1m.[0m[1mservice_up[0m[1m([0m
    [36mâ”‚             â”” [0m[36m[1m<function DockerClient.service_up at 0x7dc81a123740>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x7dc81a236060>[0m

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m43[0m, in [35mservice_up[0m
    [35m[1mraise[0m [1mValueError[0m[1m([0m[1merr_msg[0m[1m)[0m
    [36m                 â”” [0m[36m[1m'Failed to start service aldinokemal2104/go-whatsapp-web-multidevice:latest'[0m

[31m[1mValueError[0m:[1m Failed to start service aldinokemal2104/go-whatsapp-web-multidevice:latest[0m
2024-09-19 10:46:24 | INFO | Starting service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7dc819fdc200>', 'service_name': 'aldinokemal2104/go-whatsapp-web-multidevice:latest'}
2024-09-19 10:48:27 | INFO | Starting service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7dc819fdf7d0>', 'service_name': 'aldinokemal2104/go-whatsapp-web-multidevice:latest'}
2024-09-19 10:54:45 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 10:54:45 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 10:54:45 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 10:55:54 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 10:55:54 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 10:55:54 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 10:56:02 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 10:56:02 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 10:56:02 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 10:56:25 | INFO | >>> Shutingdown Application <<< | lifespan | app.logger | 
2024-09-19 10:56:25 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 10:56:25 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 10:56:25 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 10:56:25 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 10:57:57 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 10:57:57 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 10:57:57 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 10:58:40 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 10:58:40 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 10:58:40 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 11:00:03 | INFO | >>> Shutingdown Application <<< | lifespan | app.logger | 
2024-09-19 11:00:04 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 11:00:04 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 11:00:04 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 11:01:39 | INFO | >>> Shutingdown Application <<< | lifespan | app.logger | 
2024-09-19 11:01:39 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 11:01:39 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 11:01:39 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 11:02:03 | INFO | Docker client initialized successfully | docker client | app.docker_client | 
2024-09-19 11:02:03 | INFO | Starting service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x71fb9125edb0>', 'service_name': 'aldinokemal2104/go-whatsapp-web-multidevice:latest'}
2024-09-19 11:02:03 | ERROR | Failed to start service aldinokemal2104/go-whatsapp-web-multidevice:latest | docker client | app.docker_client | 
[33m[1mTraceback (most recent call last):[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
    â”‚        â”” <function Response.raise_for_status at 0x71fb9155bc40>
    â”” <Response [409]>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
          â”‚         â”‚                        â”” <Response [409]>
          â”‚         â”” '409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final'
          â”” <class 'requests.exceptions.HTTPError'>

[31m[1mrequests.exceptions.HTTPError[0m:[1m 409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final[0m


[1mThe above exception was the direct cause of the following exception:[0m


[33m[1mTraceback (most recent call last):[0m

  File "<string>", line 1, in <module>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 4
               â”‚     â”” 10
               â”” <function _main at 0x71fb93be0540>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 4
           â”‚    â”” <function BaseProcess._bootstrap at 0x71fb93cc9940>
           â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x71fb93cc8ea0>
    â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x71fb91a237a0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
    â”‚    â”” <function subprocess_started at 0x71fb91a1a2a0>
    â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x71fb91a573e0>>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x71fb91a19440>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x71fb91a573e0>
           â”‚       â”” <function run at 0x71fb92efbb00>
           â”” <module 'asyncio' from '/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/__init__.py'>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           â”‚      â”‚   â”” <coroutine object Server.serve at 0x71fb91a3da80>
           â”‚      â”” <function Runner.run at 0x71fb92f22fc0>
           â”” <asyncio.runners.Runner object at 0x71fb91ba8f80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           â”‚    â”‚     â”‚                  â”” <Task pending name='Task-1' coro=<Server.serve() running at /home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/pytho...
           â”‚    â”‚     â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”‚    â”” <uvloop.Loop running=True closed=False debug=False>
           â”” <asyncio.runners.Runner object at 0x71fb91ba8f80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x71fb91b3c410>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb9125eb...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x71fb916a3980>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x71fb91b3c410>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb9125eb...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb9125eb...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x71fb91427bc0>
          â”” <fastapi.applications.FastAPI object at 0x71fb916a3980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x71fb9143d940>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x71fb91427bc0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua': '"Chromium";v="128", "Not;...
          â”‚    â”‚               â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x71fb9143d940>
          â”‚    â”‚               â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x71fb916bd580>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>>, ...
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x71fb914278c0>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>>, ...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x71fb9125ec00>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x71fb916c85f0>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x71fb914278c0>
          â”” <function wrap_app_handling_exceptions at 0x71fb91b43f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9143dbc0>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x71fb916c85f0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9143dbc0>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x71fb916c85f0>>
          â”” <fastapi.routing.APIRouter object at 0x71fb916c85f0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9143dbc0>
          â”‚     â”‚      â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚     â”” <function Route.handle at 0x71fb91b69760>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9143dbc0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x71fb9143ea20>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9143dbc0>
          â”‚                            â”‚    â”‚        â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x71fb9125edb0>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x71fb9143dc60>
          â”” <function wrap_app_handling_exceptions at 0x71fb91b43f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9143df80>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x71fb9143dc60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x71fb9125edb0>
                     â”” <function get_request_handler.<locals>.app at 0x71fb9143e980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x71fb91b43560>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'docker_client': <app.docker_client.DockerClient object at 0x71fb91b8dee0>, 'service_image_name': 'aldinokemal2104/go-whatsa...
                 â”‚         â”” <function run_service at 0x71fb915b6de0>
                 â”” Dependant(path_params=[], query_params=[ModelField(field_info=Query(aldinokemal2104/go-whatsapp-web-multidevice:latest), name...

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mroutes.py[0m", line [33m40[0m, in [35mrun_service[0m
    [1mdocker_client[0m[35m[1m.[0m[1mservice_up[0m[1m([0m
    [36mâ”‚             â”” [0m[36m[1m<function DockerClient.service_up at 0x71fb9141f740>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x71fb91b8dee0>[0m

> File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m39[0m, in [35mservice_up[0m
    [1mself[0m[35m[1m.[0m[1mclient[0m[35m[1m.[0m[1mcontainers[0m[35m[1m.[0m[1mrun[0m[1m([0m[1mimage_name[0m[1m,[0m [1mname[0m[35m[1m=[0m[1mname[0m[1m,[0m [1mports[0m[35m[1m=[0m[1mports[0m[1m,[0m [1menvironment[0m[35m[1m=[0m[1menvironment[0m[1m,[0m [1mdetach[0m[35m[1m=[0m[36m[1mTrue[0m[1m)[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”‚                  â”” [0m[36m[1m{'OS_NAME': 'Chrome', 'BASIC_AUTH': 'eleicao:2024', 'PORT': 3000, 'DEBUG': 'False', 'AUTOREPLY': 'Obrigado por entrar em cont...[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”” [0m[36m[1m{'3002/tcp': 3000}[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”” [0m[36m[1m'go-whatsapp-final'[0m
    [36mâ”‚    â”‚      â”‚              â”” [0m[36m[1m'aldinokemal2104/go-whatsapp-web-multidevice:latest'[0m
    [36mâ”‚    â”‚      â”” [0m[36m[1m<property object at 0x71fb914006d0>[0m
    [36mâ”‚    â”” [0m[36m[1m<docker.client.DockerClient object at 0x71fb91279520>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x71fb91b8dee0>[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 876, in run
    container = self.create(image=image, command=command,
                â”‚    â”‚            â”‚              â”” None
                â”‚    â”‚            â”” 'aldinokemal2104/go-whatsapp-web-multidevice:latest'
                â”‚    â”” <function ContainerCollection.create at 0x71fb9140b560>
                â”” <docker.models.containers.ContainerCollection object at 0x71fb91363800>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 935, in create
    resp = self.client.api.create_container(**create_kwargs)
           â”‚    â”‚      â”‚   â”‚                  â”” {'detach': True, 'name': 'go-whatsapp-final', 'environment': {'OS_NAME': 'Chrome', 'BASIC_AUTH': 'eleicao:2024', 'PORT': 3000...
           â”‚    â”‚      â”‚   â”” <function ContainerApiMixin.create_container at 0x71fb913d93a0>
           â”‚    â”‚      â”” <docker.api.client.APIClient object at 0x71fb91279580>
           â”‚    â”” <docker.client.DockerClient object at 0x71fb91279520>
           â”” <docker.models.containers.ContainerCollection object at 0x71fb91363800>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 440, in create_container
    return self.create_container_from_config(config, name, platform)
           â”‚    â”‚                            â”‚       â”‚     â”” None
           â”‚    â”‚                            â”‚       â”” 'go-whatsapp-final'
           â”‚    â”‚                            â”” {'Hostname': None, 'Domainname': None, 'ExposedPorts': {'3002/tcp': {}}, 'User': None, 'Tty': False, 'OpenStdin': False, 'Std...
           â”‚    â”” <function ContainerApiMixin.create_container_from_config at 0x71fb913d94e0>
           â”” <docker.api.client.APIClient object at 0x71fb91279580>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 457, in create_container_from_config
    return self._result(res, True)
           â”‚    â”‚       â”” <Response [409]>
           â”‚    â”” <function APIClient._result at 0x71fb913f65c0>
           â”” <docker.api.client.APIClient object at 0x71fb91279580>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 281, in _result
    self._raise_for_status(response)
    â”‚    â”‚                 â”” <Response [409]>
    â”‚    â”” <function APIClient._raise_for_status at 0x71fb913f6520>
    â”” <docker.api.client.APIClient object at 0x71fb91279580>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
          â”” <function create_api_error_from_http_exception at 0x71fb9157a020>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
          â”‚   â”‚           â”‚                     â”‚                 â”” HTTPError('409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final')
          â”‚   â”‚           â”‚                     â”” 'Conflict. The container name "/go-whatsapp-final" is already in use by container "1f7fcfde9c800ccb5b1957230aab0889dbc347d45e...
          â”‚   â”‚           â”” <Response [409]>
          â”‚   â”” HTTPError('409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final')
          â”” <class 'docker.errors.APIError'>

[31m[1mdocker.errors.APIError[0m:[1m 409 Client Error for http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final: Conflict ("Conflict. The container name "/go-whatsapp-final" is already in use by container "1f7fcfde9c800ccb5b1957230aab0889dbc347d45e1aca6c092732e3dee400e1". You have to remove (or rename) that container to be able to reuse that name.")[0m
2024-09-19 11:02:03 | ERROR | Failed to start service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x71fb9125edb0>', 'service_name': 'aldinokemal2104/go-whatsapp-web-multidevice:latest'}
[33m[1mTraceback (most recent call last):[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
    â”‚        â”” <function Response.raise_for_status at 0x71fb9155bc40>
    â”” <Response [409]>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
          â”‚         â”‚                        â”” <Response [409]>
          â”‚         â”” '409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final'
          â”” <class 'requests.exceptions.HTTPError'>

[31m[1mrequests.exceptions.HTTPError[0m:[1m 409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final[0m


[1mThe above exception was the direct cause of the following exception:[0m


[33m[1mTraceback (most recent call last):[0m

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m39[0m, in [35mservice_up[0m
    [1mself[0m[35m[1m.[0m[1mclient[0m[35m[1m.[0m[1mcontainers[0m[35m[1m.[0m[1mrun[0m[1m([0m[1mimage_name[0m[1m,[0m [1mname[0m[35m[1m=[0m[1mname[0m[1m,[0m [1mports[0m[35m[1m=[0m[1mports[0m[1m,[0m [1menvironment[0m[35m[1m=[0m[1menvironment[0m[1m,[0m [1mdetach[0m[35m[1m=[0m[36m[1mTrue[0m[1m)[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”‚                  â”” [0m[36m[1m{'OS_NAME': 'Chrome', 'BASIC_AUTH': 'eleicao:2024', 'PORT': 3000, 'DEBUG': 'False', 'AUTOREPLY': 'Obrigado por entrar em cont...[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”” [0m[36m[1m{'3002/tcp': 3000}[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”” [0m[36m[1m'go-whatsapp-final'[0m
    [36mâ”‚    â”‚      â”‚              â”” [0m[36m[1m'aldinokemal2104/go-whatsapp-web-multidevice:latest'[0m
    [36mâ”‚    â”‚      â”” [0m[36m[1m<property object at 0x71fb914006d0>[0m
    [36mâ”‚    â”” [0m[36m[1m<docker.client.DockerClient object at 0x71fb91279520>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x71fb91b8dee0>[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 876, in run
    container = self.create(image=image, command=command,
                â”‚    â”‚            â”‚              â”” None
                â”‚    â”‚            â”” 'aldinokemal2104/go-whatsapp-web-multidevice:latest'
                â”‚    â”” <function ContainerCollection.create at 0x71fb9140b560>
                â”” <docker.models.containers.ContainerCollection object at 0x71fb91363800>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 935, in create
    resp = self.client.api.create_container(**create_kwargs)
           â”‚    â”‚      â”‚   â”‚                  â”” {'detach': True, 'name': 'go-whatsapp-final', 'environment': {'OS_NAME': 'Chrome', 'BASIC_AUTH': 'eleicao:2024', 'PORT': 3000...
           â”‚    â”‚      â”‚   â”” <function ContainerApiMixin.create_container at 0x71fb913d93a0>
           â”‚    â”‚      â”” <docker.api.client.APIClient object at 0x71fb91279580>
           â”‚    â”” <docker.client.DockerClient object at 0x71fb91279520>
           â”” <docker.models.containers.ContainerCollection object at 0x71fb91363800>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 440, in create_container
    return self.create_container_from_config(config, name, platform)
           â”‚    â”‚                            â”‚       â”‚     â”” None
           â”‚    â”‚                            â”‚       â”” 'go-whatsapp-final'
           â”‚    â”‚                            â”” {'Hostname': None, 'Domainname': None, 'ExposedPorts': {'3002/tcp': {}}, 'User': None, 'Tty': False, 'OpenStdin': False, 'Std...
           â”‚    â”” <function ContainerApiMixin.create_container_from_config at 0x71fb913d94e0>
           â”” <docker.api.client.APIClient object at 0x71fb91279580>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 457, in create_container_from_config
    return self._result(res, True)
           â”‚    â”‚       â”” <Response [409]>
           â”‚    â”” <function APIClient._result at 0x71fb913f65c0>
           â”” <docker.api.client.APIClient object at 0x71fb91279580>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 281, in _result
    self._raise_for_status(response)
    â”‚    â”‚                 â”” <Response [409]>
    â”‚    â”” <function APIClient._raise_for_status at 0x71fb913f6520>
    â”” <docker.api.client.APIClient object at 0x71fb91279580>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
          â”” <function create_api_error_from_http_exception at 0x71fb9157a020>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
          â”‚   â”‚           â”‚                     â”‚                 â”” HTTPError('409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final')
          â”‚   â”‚           â”‚                     â”” 'Conflict. The container name "/go-whatsapp-final" is already in use by container "1f7fcfde9c800ccb5b1957230aab0889dbc347d45e...
          â”‚   â”‚           â”” <Response [409]>
          â”‚   â”” HTTPError('409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final')
          â”” <class 'docker.errors.APIError'>

[31m[1mdocker.errors.APIError[0m:[1m 409 Client Error for http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final: Conflict ("Conflict. The container name "/go-whatsapp-final" is already in use by container "1f7fcfde9c800ccb5b1957230aab0889dbc347d45e1aca6c092732e3dee400e1". You have to remove (or rename) that container to be able to reuse that name.")[0m


[1mDuring handling of the above exception, another exception occurred:[0m


[33m[1mTraceback (most recent call last):[0m

  File "<string>", line 1, in <module>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 4
               â”‚     â”” 10
               â”” <function _main at 0x71fb93be0540>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 4
           â”‚    â”” <function BaseProcess._bootstrap at 0x71fb93cc9940>
           â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x71fb93cc8ea0>
    â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x71fb91a237a0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
    â”‚    â”” <function subprocess_started at 0x71fb91a1a2a0>
    â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x71fb91a573e0>>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x71fb91a19440>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x71fb91a573e0>
           â”‚       â”” <function run at 0x71fb92efbb00>
           â”” <module 'asyncio' from '/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/__init__.py'>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           â”‚      â”‚   â”” <coroutine object Server.serve at 0x71fb91a3da80>
           â”‚      â”” <function Runner.run at 0x71fb92f22fc0>
           â”” <asyncio.runners.Runner object at 0x71fb91ba8f80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           â”‚    â”‚     â”‚                  â”” <Task pending name='Task-1' coro=<Server.serve() running at /home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/pytho...
           â”‚    â”‚     â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”‚    â”” <uvloop.Loop running=True closed=False debug=False>
           â”” <asyncio.runners.Runner object at 0x71fb91ba8f80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x71fb91b3c410>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb9125eb...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x71fb916a3980>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x71fb91b3c410>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb9125eb...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb9125eb...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x71fb91427bc0>
          â”” <fastapi.applications.FastAPI object at 0x71fb916a3980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x71fb9143d940>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x71fb91427bc0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua': '"Chromium";v="128", "Not;...
          â”‚    â”‚               â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x71fb9143d940>
          â”‚    â”‚               â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x71fb916bd580>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>>, ...
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x71fb914278c0>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>>, ...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x71fb9125ec00>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x71fb916c85f0>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x71fb914278c0>
          â”” <function wrap_app_handling_exceptions at 0x71fb91b43f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9143dbc0>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x71fb916c85f0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9143dbc0>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x71fb916c85f0>>
          â”” <fastapi.routing.APIRouter object at 0x71fb916c85f0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9143dbc0>
          â”‚     â”‚      â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚     â”” <function Route.handle at 0x71fb91b69760>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9143dbc0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x71fb9143ea20>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9143dbc0>
          â”‚                            â”‚    â”‚        â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x71fb9125edb0>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x71fb9143dc60>
          â”” <function wrap_app_handling_exceptions at 0x71fb91b43f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9143df80>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb912...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x71fb9143dc60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x71fb9125edb0>
                     â”” <function get_request_handler.<locals>.app at 0x71fb9143e980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x71fb91b43560>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'docker_client': <app.docker_client.DockerClient object at 0x71fb91b8dee0>, 'service_image_name': 'aldinokemal2104/go-whatsa...
                 â”‚         â”” <function run_service at 0x71fb915b6de0>
                 â”” Dependant(path_params=[], query_params=[ModelField(field_info=Query(aldinokemal2104/go-whatsapp-web-multidevice:latest), name...

> File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mroutes.py[0m", line [33m40[0m, in [35mrun_service[0m
    [1mdocker_client[0m[35m[1m.[0m[1mservice_up[0m[1m([0m
    [36mâ”‚             â”” [0m[36m[1m<function DockerClient.service_up at 0x71fb9141f740>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x71fb91b8dee0>[0m

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m43[0m, in [35mservice_up[0m
    [35m[1mraise[0m [1mValueError[0m[1m([0m[1merr_msg[0m[1m)[0m
    [36m                 â”” [0m[36m[1m'Failed to start service aldinokemal2104/go-whatsapp-web-multidevice:latest'[0m

[31m[1mValueError[0m:[1m Failed to start service aldinokemal2104/go-whatsapp-web-multidevice:latest[0m
2024-09-19 11:02:18 | INFO | Starting service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x71fb909a0920>', 'service_name': 'aldinokemal2104/go-whatsapp-web-multidevice:latest'}
2024-09-19 11:02:18 | ERROR | Failed to start service aldinokemal2104/go-whatsapp-web-multidevice:latest | docker client | app.docker_client | 
[33m[1mTraceback (most recent call last):[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
    â”‚        â”” <function Response.raise_for_status at 0x71fb9155bc40>
    â”” <Response [500]>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
          â”‚         â”‚                        â”” <Response [500]>
          â”‚         â”” '500 Server Error: Internal Server Error for url: http+docker://localhost/v1.47/containers/e8699c8fc9d9e17dd07c324c785322f746...
          â”” <class 'requests.exceptions.HTTPError'>

[31m[1mrequests.exceptions.HTTPError[0m:[1m 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.47/containers/e8699c8fc9d9e17dd07c324c785322f74698f6fc60e249ff0e9b0ae74b4af499/start[0m


[1mThe above exception was the direct cause of the following exception:[0m


[33m[1mTraceback (most recent call last):[0m

  File "<string>", line 1, in <module>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 4
               â”‚     â”” 10
               â”” <function _main at 0x71fb93be0540>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 4
           â”‚    â”” <function BaseProcess._bootstrap at 0x71fb93cc9940>
           â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x71fb93cc8ea0>
    â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x71fb91a237a0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
    â”‚    â”” <function subprocess_started at 0x71fb91a1a2a0>
    â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x71fb91a573e0>>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x71fb91a19440>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x71fb91a573e0>
           â”‚       â”” <function run at 0x71fb92efbb00>
           â”” <module 'asyncio' from '/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/__init__.py'>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           â”‚      â”‚   â”” <coroutine object Server.serve at 0x71fb91a3da80>
           â”‚      â”” <function Runner.run at 0x71fb92f22fc0>
           â”” <asyncio.runners.Runner object at 0x71fb91ba8f80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           â”‚    â”‚     â”‚                  â”” <Task pending name='Task-1' coro=<Server.serve() running at /home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/pytho...
           â”‚    â”‚     â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”‚    â”” <uvloop.Loop running=True closed=False debug=False>
           â”” <asyncio.runners.Runner object at 0x71fb91ba8f80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x71fb91b3c410>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909a0c...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x71fb916a3980>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x71fb91b3c410>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909a0c...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909a0c...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x71fb91427bc0>
          â”” <fastapi.applications.FastAPI object at 0x71fb916a3980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x71fb9096ce00>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x71fb91427bc0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua': '"Chromium";v="128", "Not;...
          â”‚    â”‚               â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x71fb9096ce00>
          â”‚    â”‚               â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x71fb916bd580>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>>, ...
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x71fb914278c0>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>>, ...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x71fb909a0c80>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x71fb916c85f0>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x71fb914278c0>
          â”” <function wrap_app_handling_exceptions at 0x71fb91b43f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9096cfe0>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x71fb916c85f0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9096cfe0>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x71fb916c85f0>>
          â”” <fastapi.routing.APIRouter object at 0x71fb916c85f0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9096cfe0>
          â”‚     â”‚      â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚     â”” <function Route.handle at 0x71fb91b69760>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9096cfe0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x71fb9143ea20>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9096cfe0>
          â”‚                            â”‚    â”‚        â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x71fb909a0920>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x71fb9096cd60>
          â”” <function wrap_app_handling_exceptions at 0x71fb91b43f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9096d120>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x71fb9096cd60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x71fb909a0920>
                     â”” <function get_request_handler.<locals>.app at 0x71fb9143e980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x71fb91b43560>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'docker_client': <app.docker_client.DockerClient object at 0x71fb91b8dee0>, 'service_image_name': 'aldinokemal2104/go-whatsa...
                 â”‚         â”” <function run_service at 0x71fb915b6de0>
                 â”” Dependant(path_params=[], query_params=[ModelField(field_info=Query(aldinokemal2104/go-whatsapp-web-multidevice:latest), name...

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mroutes.py[0m", line [33m40[0m, in [35mrun_service[0m
    [1mdocker_client[0m[35m[1m.[0m[1mservice_up[0m[1m([0m
    [36mâ”‚             â”” [0m[36m[1m<function DockerClient.service_up at 0x71fb9141f740>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x71fb91b8dee0>[0m

> File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m39[0m, in [35mservice_up[0m
    [1mself[0m[35m[1m.[0m[1mclient[0m[35m[1m.[0m[1mcontainers[0m[35m[1m.[0m[1mrun[0m[1m([0m[1mimage_name[0m[1m,[0m [1mname[0m[35m[1m=[0m[1mname[0m[1m,[0m [1mports[0m[35m[1m=[0m[1mports[0m[1m,[0m [1menvironment[0m[35m[1m=[0m[1menvironment[0m[1m,[0m [1mdetach[0m[35m[1m=[0m[36m[1mTrue[0m[1m)[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”‚                  â”” [0m[36m[1m{'OS_NAME': 'Chrome', 'BASIC_AUTH': 'eleicao:2024', 'PORT': 3000, 'DEBUG': 'False', 'AUTOREPLY': 'Obrigado por entrar em cont...[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”” [0m[36m[1m{'3002/tcp': 3000}[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”” [0m[36m[1m'go-whatsapp-final-final'[0m
    [36mâ”‚    â”‚      â”‚              â”” [0m[36m[1m'aldinokemal2104/go-whatsapp-web-multidevice:latest'[0m
    [36mâ”‚    â”‚      â”” [0m[36m[1m<property object at 0x71fb914006d0>[0m
    [36mâ”‚    â”” [0m[36m[1m<docker.client.DockerClient object at 0x71fb91279520>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x71fb91b8dee0>[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 883, in run
    container.start()
    â”‚         â”” <function Container.start at 0x71fb9140b060>
    â”” <Container: e8699c8fc9d9>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 420, in start
    return self.client.api.start(self.id, **kwargs)
           â”‚    â”‚      â”‚   â”‚     â”‚    â”‚     â”” {}
           â”‚    â”‚      â”‚   â”‚     â”‚    â”” <property object at 0x71fb91400ae0>
           â”‚    â”‚      â”‚   â”‚     â”” <Container: e8699c8fc9d9>
           â”‚    â”‚      â”‚   â”” <function ContainerApiMixin.start at 0x71fb913daa20>
           â”‚    â”‚      â”” <docker.api.client.APIClient object at 0x71fb91279580>
           â”‚    â”” <docker.client.DockerClient object at 0x71fb91279520>
           â”” <Container: e8699c8fc9d9>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/utils/decorators.py", line 19, in wrapped
    return f(self, resource_id, *args, **kwargs)
           â”‚ â”‚     â”‚             â”‚       â”” {}
           â”‚ â”‚     â”‚             â”” ()
           â”‚ â”‚     â”” 'e8699c8fc9d9e17dd07c324c785322f74698f6fc60e249ff0e9b0ae74b4af499'
           â”‚ â”” <docker.api.client.APIClient object at 0x71fb91279580>
           â”” <function ContainerApiMixin.start at 0x71fb913da980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 1136, in start
    self._raise_for_status(res)
    â”‚    â”‚                 â”” <Response [500]>
    â”‚    â”” <function APIClient._raise_for_status at 0x71fb913f6520>
    â”” <docker.api.client.APIClient object at 0x71fb91279580>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
          â”” <function create_api_error_from_http_exception at 0x71fb9157a020>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
          â”‚   â”‚           â”‚                     â”‚                 â”” HTTPError('500 Server Error: Internal Server Error for url: http+docker://localhost/v1.47/containers/e8699c8fc9d9e17dd07c324c...
          â”‚   â”‚           â”‚                     â”” 'driver failed programming external connectivity on endpoint go-whatsapp-final-final (f0d5c1b9d073003585150c3449dfe392551bdf2...
          â”‚   â”‚           â”” <Response [500]>
          â”‚   â”” HTTPError('500 Server Error: Internal Server Error for url: http+docker://localhost/v1.47/containers/e8699c8fc9d9e17dd07c324c...
          â”” <class 'docker.errors.APIError'>

[31m[1mdocker.errors.APIError[0m:[1m 500 Server Error for http+docker://localhost/v1.47/containers/e8699c8fc9d9e17dd07c324c785322f74698f6fc60e249ff0e9b0ae74b4af499/start: Internal Server Error ("driver failed programming external connectivity on endpoint go-whatsapp-final-final (f0d5c1b9d073003585150c3449dfe392551bdf238a19da2ec1d73a47a91e63a2): Bind for 0.0.0.0:3000 failed: port is already allocated")[0m
2024-09-19 11:02:18 | ERROR | Failed to start service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x71fb909a0920>', 'service_name': 'aldinokemal2104/go-whatsapp-web-multidevice:latest'}
[33m[1mTraceback (most recent call last):[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
    â”‚        â”” <function Response.raise_for_status at 0x71fb9155bc40>
    â”” <Response [500]>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
          â”‚         â”‚                        â”” <Response [500]>
          â”‚         â”” '500 Server Error: Internal Server Error for url: http+docker://localhost/v1.47/containers/e8699c8fc9d9e17dd07c324c785322f746...
          â”” <class 'requests.exceptions.HTTPError'>

[31m[1mrequests.exceptions.HTTPError[0m:[1m 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.47/containers/e8699c8fc9d9e17dd07c324c785322f74698f6fc60e249ff0e9b0ae74b4af499/start[0m


[1mThe above exception was the direct cause of the following exception:[0m


[33m[1mTraceback (most recent call last):[0m

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m39[0m, in [35mservice_up[0m
    [1mself[0m[35m[1m.[0m[1mclient[0m[35m[1m.[0m[1mcontainers[0m[35m[1m.[0m[1mrun[0m[1m([0m[1mimage_name[0m[1m,[0m [1mname[0m[35m[1m=[0m[1mname[0m[1m,[0m [1mports[0m[35m[1m=[0m[1mports[0m[1m,[0m [1menvironment[0m[35m[1m=[0m[1menvironment[0m[1m,[0m [1mdetach[0m[35m[1m=[0m[36m[1mTrue[0m[1m)[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”‚                  â”” [0m[36m[1m{'OS_NAME': 'Chrome', 'BASIC_AUTH': 'eleicao:2024', 'PORT': 3000, 'DEBUG': 'False', 'AUTOREPLY': 'Obrigado por entrar em cont...[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”” [0m[36m[1m{'3002/tcp': 3000}[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”” [0m[36m[1m'go-whatsapp-final-final'[0m
    [36mâ”‚    â”‚      â”‚              â”” [0m[36m[1m'aldinokemal2104/go-whatsapp-web-multidevice:latest'[0m
    [36mâ”‚    â”‚      â”” [0m[36m[1m<property object at 0x71fb914006d0>[0m
    [36mâ”‚    â”” [0m[36m[1m<docker.client.DockerClient object at 0x71fb91279520>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x71fb91b8dee0>[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 883, in run
    container.start()
    â”‚         â”” <function Container.start at 0x71fb9140b060>
    â”” <Container: e8699c8fc9d9>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 420, in start
    return self.client.api.start(self.id, **kwargs)
           â”‚    â”‚      â”‚   â”‚     â”‚    â”‚     â”” {}
           â”‚    â”‚      â”‚   â”‚     â”‚    â”” <property object at 0x71fb91400ae0>
           â”‚    â”‚      â”‚   â”‚     â”” <Container: e8699c8fc9d9>
           â”‚    â”‚      â”‚   â”” <function ContainerApiMixin.start at 0x71fb913daa20>
           â”‚    â”‚      â”” <docker.api.client.APIClient object at 0x71fb91279580>
           â”‚    â”” <docker.client.DockerClient object at 0x71fb91279520>
           â”” <Container: e8699c8fc9d9>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/utils/decorators.py", line 19, in wrapped
    return f(self, resource_id, *args, **kwargs)
           â”‚ â”‚     â”‚             â”‚       â”” {}
           â”‚ â”‚     â”‚             â”” ()
           â”‚ â”‚     â”” 'e8699c8fc9d9e17dd07c324c785322f74698f6fc60e249ff0e9b0ae74b4af499'
           â”‚ â”” <docker.api.client.APIClient object at 0x71fb91279580>
           â”” <function ContainerApiMixin.start at 0x71fb913da980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 1136, in start
    self._raise_for_status(res)
    â”‚    â”‚                 â”” <Response [500]>
    â”‚    â”” <function APIClient._raise_for_status at 0x71fb913f6520>
    â”” <docker.api.client.APIClient object at 0x71fb91279580>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
          â”” <function create_api_error_from_http_exception at 0x71fb9157a020>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
          â”‚   â”‚           â”‚                     â”‚                 â”” HTTPError('500 Server Error: Internal Server Error for url: http+docker://localhost/v1.47/containers/e8699c8fc9d9e17dd07c324c...
          â”‚   â”‚           â”‚                     â”” 'driver failed programming external connectivity on endpoint go-whatsapp-final-final (f0d5c1b9d073003585150c3449dfe392551bdf2...
          â”‚   â”‚           â”” <Response [500]>
          â”‚   â”” HTTPError('500 Server Error: Internal Server Error for url: http+docker://localhost/v1.47/containers/e8699c8fc9d9e17dd07c324c...
          â”” <class 'docker.errors.APIError'>

[31m[1mdocker.errors.APIError[0m:[1m 500 Server Error for http+docker://localhost/v1.47/containers/e8699c8fc9d9e17dd07c324c785322f74698f6fc60e249ff0e9b0ae74b4af499/start: Internal Server Error ("driver failed programming external connectivity on endpoint go-whatsapp-final-final (f0d5c1b9d073003585150c3449dfe392551bdf238a19da2ec1d73a47a91e63a2): Bind for 0.0.0.0:3000 failed: port is already allocated")[0m


[1mDuring handling of the above exception, another exception occurred:[0m


[33m[1mTraceback (most recent call last):[0m

  File "<string>", line 1, in <module>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 4
               â”‚     â”” 10
               â”” <function _main at 0x71fb93be0540>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 4
           â”‚    â”” <function BaseProcess._bootstrap at 0x71fb93cc9940>
           â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x71fb93cc8ea0>
    â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x71fb91a237a0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
    â”‚    â”” <function subprocess_started at 0x71fb91a1a2a0>
    â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x71fb91a573e0>>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x71fb91a19440>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x71fb91a573e0>
           â”‚       â”” <function run at 0x71fb92efbb00>
           â”” <module 'asyncio' from '/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/__init__.py'>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           â”‚      â”‚   â”” <coroutine object Server.serve at 0x71fb91a3da80>
           â”‚      â”” <function Runner.run at 0x71fb92f22fc0>
           â”” <asyncio.runners.Runner object at 0x71fb91ba8f80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           â”‚    â”‚     â”‚                  â”” <Task pending name='Task-1' coro=<Server.serve() running at /home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/pytho...
           â”‚    â”‚     â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”‚    â”” <uvloop.Loop running=True closed=False debug=False>
           â”” <asyncio.runners.Runner object at 0x71fb91ba8f80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x71fb91b3c410>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909a0c...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x71fb916a3980>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x71fb91b3c410>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909a0c...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909a0c...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x71fb91427bc0>
          â”” <fastapi.applications.FastAPI object at 0x71fb916a3980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x71fb9096ce00>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x71fb91427bc0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua': '"Chromium";v="128", "Not;...
          â”‚    â”‚               â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x71fb9096ce00>
          â”‚    â”‚               â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x71fb916bd580>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>>, ...
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x71fb914278c0>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>>, ...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x71fb909a0c80>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x71fb916c85f0>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x71fb914278c0>
          â”” <function wrap_app_handling_exceptions at 0x71fb91b43f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9096cfe0>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x71fb916c85f0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9096cfe0>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x71fb916c85f0>>
          â”” <fastapi.routing.APIRouter object at 0x71fb916c85f0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9096cfe0>
          â”‚     â”‚      â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚     â”” <function Route.handle at 0x71fb91b69760>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9096cfe0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x71fb9143ea20>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9096cfe0>
          â”‚                            â”‚    â”‚        â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x71fb909a0920>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x71fb9096cd60>
          â”” <function wrap_app_handling_exceptions at 0x71fb91b43f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9096d120>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x71fb9096cd60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x71fb909a0920>
                     â”” <function get_request_handler.<locals>.app at 0x71fb9143e980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x71fb91b43560>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'docker_client': <app.docker_client.DockerClient object at 0x71fb91b8dee0>, 'service_image_name': 'aldinokemal2104/go-whatsa...
                 â”‚         â”” <function run_service at 0x71fb915b6de0>
                 â”” Dependant(path_params=[], query_params=[ModelField(field_info=Query(aldinokemal2104/go-whatsapp-web-multidevice:latest), name...

> File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mroutes.py[0m", line [33m40[0m, in [35mrun_service[0m
    [1mdocker_client[0m[35m[1m.[0m[1mservice_up[0m[1m([0m
    [36mâ”‚             â”” [0m[36m[1m<function DockerClient.service_up at 0x71fb9141f740>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x71fb91b8dee0>[0m

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m43[0m, in [35mservice_up[0m
    [35m[1mraise[0m [1mValueError[0m[1m([0m[1merr_msg[0m[1m)[0m
    [36m                 â”” [0m[36m[1m'Failed to start service aldinokemal2104/go-whatsapp-web-multidevice:latest'[0m

[31m[1mValueError[0m:[1m Failed to start service aldinokemal2104/go-whatsapp-web-multidevice:latest[0m
2024-09-19 11:02:27 | INFO | Starting service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x71fb909a2a20>', 'service_name': 'aldinokemal2104/go-whatsapp-web-multidevice:latest'}
2024-09-19 11:02:27 | ERROR | Failed to start service aldinokemal2104/go-whatsapp-web-multidevice:latest | docker client | app.docker_client | 
[33m[1mTraceback (most recent call last):[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
    â”‚        â”” <function Response.raise_for_status at 0x71fb9155bc40>
    â”” <Response [409]>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
          â”‚         â”‚                        â”” <Response [409]>
          â”‚         â”” '409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final-final'
          â”” <class 'requests.exceptions.HTTPError'>

[31m[1mrequests.exceptions.HTTPError[0m:[1m 409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final-final[0m


[1mThe above exception was the direct cause of the following exception:[0m


[33m[1mTraceback (most recent call last):[0m

  File "<string>", line 1, in <module>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 4
               â”‚     â”” 10
               â”” <function _main at 0x71fb93be0540>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 4
           â”‚    â”” <function BaseProcess._bootstrap at 0x71fb93cc9940>
           â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x71fb93cc8ea0>
    â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x71fb91a237a0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
    â”‚    â”” <function subprocess_started at 0x71fb91a1a2a0>
    â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x71fb91a573e0>>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x71fb91a19440>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x71fb91a573e0>
           â”‚       â”” <function run at 0x71fb92efbb00>
           â”” <module 'asyncio' from '/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/__init__.py'>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           â”‚      â”‚   â”” <coroutine object Server.serve at 0x71fb91a3da80>
           â”‚      â”” <function Runner.run at 0x71fb92f22fc0>
           â”” <asyncio.runners.Runner object at 0x71fb91ba8f80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           â”‚    â”‚     â”‚                  â”” <Task pending name='Task-1' coro=<Server.serve() running at /home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/pytho...
           â”‚    â”‚     â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”‚    â”” <uvloop.Loop running=True closed=False debug=False>
           â”” <asyncio.runners.Runner object at 0x71fb91ba8f80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x71fb91b3c410>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909a2e...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x71fb916a3980>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x71fb91b3c410>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909a2e...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909a2e...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x71fb91427bc0>
          â”” <fastapi.applications.FastAPI object at 0x71fb916a3980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x71fb9096d580>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x71fb91427bc0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua': '"Chromium";v="128", "Not;...
          â”‚    â”‚               â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x71fb9096d580>
          â”‚    â”‚               â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x71fb916bd580>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>>, ...
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x71fb914278c0>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>>, ...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x71fb909a2ba0>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x71fb916c85f0>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x71fb914278c0>
          â”” <function wrap_app_handling_exceptions at 0x71fb91b43f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9096d8a0>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x71fb916c85f0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9096d8a0>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x71fb916c85f0>>
          â”” <fastapi.routing.APIRouter object at 0x71fb916c85f0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9096d8a0>
          â”‚     â”‚      â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚     â”” <function Route.handle at 0x71fb91b69760>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9096d8a0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x71fb9143ea20>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9096d8a0>
          â”‚                            â”‚    â”‚        â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x71fb909a2a20>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x71fb9096d940>
          â”” <function wrap_app_handling_exceptions at 0x71fb91b43f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9096d9e0>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x71fb9096d940>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x71fb909a2a20>
                     â”” <function get_request_handler.<locals>.app at 0x71fb9143e980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x71fb91b43560>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'docker_client': <app.docker_client.DockerClient object at 0x71fb91b8dee0>, 'service_image_name': 'aldinokemal2104/go-whatsa...
                 â”‚         â”” <function run_service at 0x71fb915b6de0>
                 â”” Dependant(path_params=[], query_params=[ModelField(field_info=Query(aldinokemal2104/go-whatsapp-web-multidevice:latest), name...

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mroutes.py[0m", line [33m40[0m, in [35mrun_service[0m
    [1mdocker_client[0m[35m[1m.[0m[1mservice_up[0m[1m([0m
    [36mâ”‚             â”” [0m[36m[1m<function DockerClient.service_up at 0x71fb9141f740>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x71fb91b8dee0>[0m

> File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m39[0m, in [35mservice_up[0m
    [1mself[0m[35m[1m.[0m[1mclient[0m[35m[1m.[0m[1mcontainers[0m[35m[1m.[0m[1mrun[0m[1m([0m[1mimage_name[0m[1m,[0m [1mname[0m[35m[1m=[0m[1mname[0m[1m,[0m [1mports[0m[35m[1m=[0m[1mports[0m[1m,[0m [1menvironment[0m[35m[1m=[0m[1menvironment[0m[1m,[0m [1mdetach[0m[35m[1m=[0m[36m[1mTrue[0m[1m)[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”‚                  â”” [0m[36m[1m{'OS_NAME': 'Chrome', 'BASIC_AUTH': 'eleicao:2024', 'PORT': 3000, 'DEBUG': 'False', 'AUTOREPLY': 'Obrigado por entrar em cont...[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”” [0m[36m[1m{'3002/tcp': 3000}[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”” [0m[36m[1m'go-whatsapp-final-final'[0m
    [36mâ”‚    â”‚      â”‚              â”” [0m[36m[1m'aldinokemal2104/go-whatsapp-web-multidevice:latest'[0m
    [36mâ”‚    â”‚      â”” [0m[36m[1m<property object at 0x71fb914006d0>[0m
    [36mâ”‚    â”” [0m[36m[1m<docker.client.DockerClient object at 0x71fb91279520>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x71fb91b8dee0>[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 876, in run
    container = self.create(image=image, command=command,
                â”‚    â”‚            â”‚              â”” None
                â”‚    â”‚            â”” 'aldinokemal2104/go-whatsapp-web-multidevice:latest'
                â”‚    â”” <function ContainerCollection.create at 0x71fb9140b560>
                â”” <docker.models.containers.ContainerCollection object at 0x71fb909a34a0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 935, in create
    resp = self.client.api.create_container(**create_kwargs)
           â”‚    â”‚      â”‚   â”‚                  â”” {'detach': True, 'name': 'go-whatsapp-final-final', 'environment': {'OS_NAME': 'Chrome', 'BASIC_AUTH': 'eleicao:2024', 'PORT'...
           â”‚    â”‚      â”‚   â”” <function ContainerApiMixin.create_container at 0x71fb913d93a0>
           â”‚    â”‚      â”” <docker.api.client.APIClient object at 0x71fb91279580>
           â”‚    â”” <docker.client.DockerClient object at 0x71fb91279520>
           â”” <docker.models.containers.ContainerCollection object at 0x71fb909a34a0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 440, in create_container
    return self.create_container_from_config(config, name, platform)
           â”‚    â”‚                            â”‚       â”‚     â”” None
           â”‚    â”‚                            â”‚       â”” 'go-whatsapp-final-final'
           â”‚    â”‚                            â”” {'Hostname': None, 'Domainname': None, 'ExposedPorts': {'3002/tcp': {}}, 'User': None, 'Tty': False, 'OpenStdin': False, 'Std...
           â”‚    â”” <function ContainerApiMixin.create_container_from_config at 0x71fb913d94e0>
           â”” <docker.api.client.APIClient object at 0x71fb91279580>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 457, in create_container_from_config
    return self._result(res, True)
           â”‚    â”‚       â”” <Response [409]>
           â”‚    â”” <function APIClient._result at 0x71fb913f65c0>
           â”” <docker.api.client.APIClient object at 0x71fb91279580>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 281, in _result
    self._raise_for_status(response)
    â”‚    â”‚                 â”” <Response [409]>
    â”‚    â”” <function APIClient._raise_for_status at 0x71fb913f6520>
    â”” <docker.api.client.APIClient object at 0x71fb91279580>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
          â”” <function create_api_error_from_http_exception at 0x71fb9157a020>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
          â”‚   â”‚           â”‚                     â”‚                 â”” HTTPError('409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final-final')
          â”‚   â”‚           â”‚                     â”” 'Conflict. The container name "/go-whatsapp-final-final" is already in use by container "e8699c8fc9d9e17dd07c324c785322f74698...
          â”‚   â”‚           â”” <Response [409]>
          â”‚   â”” HTTPError('409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final-final')
          â”” <class 'docker.errors.APIError'>

[31m[1mdocker.errors.APIError[0m:[1m 409 Client Error for http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final-final: Conflict ("Conflict. The container name "/go-whatsapp-final-final" is already in use by container "e8699c8fc9d9e17dd07c324c785322f74698f6fc60e249ff0e9b0ae74b4af499". You have to remove (or rename) that container to be able to reuse that name.")[0m
2024-09-19 11:02:27 | ERROR | Failed to start service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x71fb909a2a20>', 'service_name': 'aldinokemal2104/go-whatsapp-web-multidevice:latest'}
[33m[1mTraceback (most recent call last):[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
    â”‚        â”” <function Response.raise_for_status at 0x71fb9155bc40>
    â”” <Response [409]>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
          â”‚         â”‚                        â”” <Response [409]>
          â”‚         â”” '409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final-final'
          â”” <class 'requests.exceptions.HTTPError'>

[31m[1mrequests.exceptions.HTTPError[0m:[1m 409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final-final[0m


[1mThe above exception was the direct cause of the following exception:[0m


[33m[1mTraceback (most recent call last):[0m

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m39[0m, in [35mservice_up[0m
    [1mself[0m[35m[1m.[0m[1mclient[0m[35m[1m.[0m[1mcontainers[0m[35m[1m.[0m[1mrun[0m[1m([0m[1mimage_name[0m[1m,[0m [1mname[0m[35m[1m=[0m[1mname[0m[1m,[0m [1mports[0m[35m[1m=[0m[1mports[0m[1m,[0m [1menvironment[0m[35m[1m=[0m[1menvironment[0m[1m,[0m [1mdetach[0m[35m[1m=[0m[36m[1mTrue[0m[1m)[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”‚                  â”” [0m[36m[1m{'OS_NAME': 'Chrome', 'BASIC_AUTH': 'eleicao:2024', 'PORT': 3000, 'DEBUG': 'False', 'AUTOREPLY': 'Obrigado por entrar em cont...[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”” [0m[36m[1m{'3002/tcp': 3000}[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”” [0m[36m[1m'go-whatsapp-final-final'[0m
    [36mâ”‚    â”‚      â”‚              â”” [0m[36m[1m'aldinokemal2104/go-whatsapp-web-multidevice:latest'[0m
    [36mâ”‚    â”‚      â”” [0m[36m[1m<property object at 0x71fb914006d0>[0m
    [36mâ”‚    â”” [0m[36m[1m<docker.client.DockerClient object at 0x71fb91279520>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x71fb91b8dee0>[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 876, in run
    container = self.create(image=image, command=command,
                â”‚    â”‚            â”‚              â”” None
                â”‚    â”‚            â”” 'aldinokemal2104/go-whatsapp-web-multidevice:latest'
                â”‚    â”” <function ContainerCollection.create at 0x71fb9140b560>
                â”” <docker.models.containers.ContainerCollection object at 0x71fb909a34a0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 935, in create
    resp = self.client.api.create_container(**create_kwargs)
           â”‚    â”‚      â”‚   â”‚                  â”” {'detach': True, 'name': 'go-whatsapp-final-final', 'environment': {'OS_NAME': 'Chrome', 'BASIC_AUTH': 'eleicao:2024', 'PORT'...
           â”‚    â”‚      â”‚   â”” <function ContainerApiMixin.create_container at 0x71fb913d93a0>
           â”‚    â”‚      â”” <docker.api.client.APIClient object at 0x71fb91279580>
           â”‚    â”” <docker.client.DockerClient object at 0x71fb91279520>
           â”” <docker.models.containers.ContainerCollection object at 0x71fb909a34a0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 440, in create_container
    return self.create_container_from_config(config, name, platform)
           â”‚    â”‚                            â”‚       â”‚     â”” None
           â”‚    â”‚                            â”‚       â”” 'go-whatsapp-final-final'
           â”‚    â”‚                            â”” {'Hostname': None, 'Domainname': None, 'ExposedPorts': {'3002/tcp': {}}, 'User': None, 'Tty': False, 'OpenStdin': False, 'Std...
           â”‚    â”” <function ContainerApiMixin.create_container_from_config at 0x71fb913d94e0>
           â”” <docker.api.client.APIClient object at 0x71fb91279580>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 457, in create_container_from_config
    return self._result(res, True)
           â”‚    â”‚       â”” <Response [409]>
           â”‚    â”” <function APIClient._result at 0x71fb913f65c0>
           â”” <docker.api.client.APIClient object at 0x71fb91279580>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 281, in _result
    self._raise_for_status(response)
    â”‚    â”‚                 â”” <Response [409]>
    â”‚    â”” <function APIClient._raise_for_status at 0x71fb913f6520>
    â”” <docker.api.client.APIClient object at 0x71fb91279580>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
          â”” <function create_api_error_from_http_exception at 0x71fb9157a020>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
          â”‚   â”‚           â”‚                     â”‚                 â”” HTTPError('409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final-final')
          â”‚   â”‚           â”‚                     â”” 'Conflict. The container name "/go-whatsapp-final-final" is already in use by container "e8699c8fc9d9e17dd07c324c785322f74698...
          â”‚   â”‚           â”” <Response [409]>
          â”‚   â”” HTTPError('409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final-final')
          â”” <class 'docker.errors.APIError'>

[31m[1mdocker.errors.APIError[0m:[1m 409 Client Error for http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final-final: Conflict ("Conflict. The container name "/go-whatsapp-final-final" is already in use by container "e8699c8fc9d9e17dd07c324c785322f74698f6fc60e249ff0e9b0ae74b4af499". You have to remove (or rename) that container to be able to reuse that name.")[0m


[1mDuring handling of the above exception, another exception occurred:[0m


[33m[1mTraceback (most recent call last):[0m

  File "<string>", line 1, in <module>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 4
               â”‚     â”” 10
               â”” <function _main at 0x71fb93be0540>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 4
           â”‚    â”” <function BaseProcess._bootstrap at 0x71fb93cc9940>
           â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x71fb93cc8ea0>
    â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x71fb91a237a0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
    â”‚    â”” <function subprocess_started at 0x71fb91a1a2a0>
    â”” <SpawnProcess name='SpawnProcess-12' parent=154103 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x71fb91a573e0>>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x71fb91a19440>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x71fb91a573e0>
           â”‚       â”” <function run at 0x71fb92efbb00>
           â”” <module 'asyncio' from '/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/__init__.py'>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           â”‚      â”‚   â”” <coroutine object Server.serve at 0x71fb91a3da80>
           â”‚      â”” <function Runner.run at 0x71fb92f22fc0>
           â”” <asyncio.runners.Runner object at 0x71fb91ba8f80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           â”‚    â”‚     â”‚                  â”” <Task pending name='Task-1' coro=<Server.serve() running at /home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/pytho...
           â”‚    â”‚     â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”‚    â”” <uvloop.Loop running=True closed=False debug=False>
           â”” <asyncio.runners.Runner object at 0x71fb91ba8f80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x71fb91b3c410>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909a2e...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x71fb916a3980>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x71fb91b3c410>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909a2e...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909a2e...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x71fb91427bc0>
          â”” <fastapi.applications.FastAPI object at 0x71fb916a3980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x71fb9096d580>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x71fb91427bc0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua': '"Chromium";v="128", "Not;...
          â”‚    â”‚               â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x71fb9096d580>
          â”‚    â”‚               â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x71fb916bd580>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>>, ...
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x71fb914278c0>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x71fb9156a7e0>>, ...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x71fb909a2ba0>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x71fb916c85f0>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x71fb914278c0>
          â”” <function wrap_app_handling_exceptions at 0x71fb91b43f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9096d8a0>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x71fb916c85f0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9096d8a0>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x71fb916c85f0>>
          â”” <fastapi.routing.APIRouter object at 0x71fb916c85f0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9096d8a0>
          â”‚     â”‚      â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚     â”” <function Route.handle at 0x71fb91b69760>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9096d8a0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x71fb9143ea20>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9096d8a0>
          â”‚                            â”‚    â”‚        â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x71fb909a2a20>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x71fb9096d940>
          â”” <function wrap_app_handling_exceptions at 0x71fb91b43f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x71fb9096d9e0>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x71fb909...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x71fb9096d940>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x71fb909a2a20>
                     â”” <function get_request_handler.<locals>.app at 0x71fb9143e980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x71fb91b43560>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'docker_client': <app.docker_client.DockerClient object at 0x71fb91b8dee0>, 'service_image_name': 'aldinokemal2104/go-whatsa...
                 â”‚         â”” <function run_service at 0x71fb915b6de0>
                 â”” Dependant(path_params=[], query_params=[ModelField(field_info=Query(aldinokemal2104/go-whatsapp-web-multidevice:latest), name...

> File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mroutes.py[0m", line [33m40[0m, in [35mrun_service[0m
    [1mdocker_client[0m[35m[1m.[0m[1mservice_up[0m[1m([0m
    [36mâ”‚             â”” [0m[36m[1m<function DockerClient.service_up at 0x71fb9141f740>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x71fb91b8dee0>[0m

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m43[0m, in [35mservice_up[0m
    [35m[1mraise[0m [1mValueError[0m[1m([0m[1merr_msg[0m[1m)[0m
    [36m                 â”” [0m[36m[1m'Failed to start service aldinokemal2104/go-whatsapp-web-multidevice:latest'[0m

[31m[1mValueError[0m:[1m Failed to start service aldinokemal2104/go-whatsapp-web-multidevice:latest[0m
2024-09-19 11:02:59 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 11:02:59 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 11:02:59 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 11:03:01 | INFO | Docker client initialized successfully | docker client | app.docker_client | 
2024-09-19 11:03:01 | INFO | Starting service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x72e92d48f020>', 'service_name': 'aldinokemal2104/go-whatsapp-web-multidevice:latest'}
2024-09-19 11:03:01 | ERROR | Failed to start service aldinokemal2104/go-whatsapp-web-multidevice:latest | docker client | app.docker_client | 
[33m[1mTraceback (most recent call last):[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
    â”‚        â”” <function Response.raise_for_status at 0x72e92d74fc40>
    â”” <Response [409]>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
          â”‚         â”‚                        â”” <Response [409]>
          â”‚         â”” '409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final-final'
          â”” <class 'requests.exceptions.HTTPError'>

[31m[1mrequests.exceptions.HTTPError[0m:[1m 409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final-final[0m


[1mThe above exception was the direct cause of the following exception:[0m


[33m[1mTraceback (most recent call last):[0m

  File "<string>", line 1, in <module>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 4
               â”‚     â”” 7
               â”” <function _main at 0x72e92fde0540>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 4
           â”‚    â”” <function BaseProcess._bootstrap at 0x72e92fec9940>
           â”” <SpawnProcess name='SpawnProcess-1' parent=173887 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x72e92fec8ea0>
    â”” <SpawnProcess name='SpawnProcess-1' parent=173887 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x72e92dc17560>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-1' parent=173887 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-1' parent=173887 started>
    â”‚    â”” <function subprocess_started at 0x72e92dc0e2a0>
    â”” <SpawnProcess name='SpawnProcess-1' parent=173887 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x72e92dc4b1d0>>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x72e92dc0d440>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x72e92dc4b1d0>
           â”‚       â”” <function run at 0x72e92f15bb00>
           â”” <module 'asyncio' from '/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/__init__.py'>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           â”‚      â”‚   â”” <coroutine object Server.serve at 0x72e92dc31a80>
           â”‚      â”” <function Runner.run at 0x72e92f182fc0>
           â”” <asyncio.runners.Runner object at 0x72e92dd9cf80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           â”‚    â”‚     â”‚                  â”” <Task pending name='Task-1' coro=<Server.serve() running at /home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/pytho...
           â”‚    â”‚     â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”‚    â”” <uvloop.Loop running=True closed=False debug=False>
           â”” <asyncio.runners.Runner object at 0x72e92dd9cf80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x72e92d6f9f70>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d48ed...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x72e92d897c20>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x72e92d6f9f70>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d48ed...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d48ed...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x72e92d653dd0>
          â”” <fastapi.applications.FastAPI object at 0x72e92d897c20>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x72e92d66d940>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x72e92d5e81a0>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x72e92d653dd0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua': '"Chromium";v="128", "Not;...
          â”‚    â”‚               â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x72e92d66d940>
          â”‚    â”‚               â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x72e92d8b1580>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x72e92d5e81a0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x72e92d5e81a0>>, ...
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x72e92d653e60>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x72e92d5e81a0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x72e92d5e81a0>>, ...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x72e92d653170>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x72e92d8bc440>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x72e92d653e60>
          â”” <function wrap_app_handling_exceptions at 0x72e92dd37f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x72e92d66dbc0>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x72e92d8bc440>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x72e92d66dbc0>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x72e92d8bc440>>
          â”” <fastapi.routing.APIRouter object at 0x72e92d8bc440>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x72e92d66dbc0>
          â”‚     â”‚      â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚     â”” <function Route.handle at 0x72e92dd5d760>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x72e92d66dbc0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x72e92d66ea20>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x72e92d66dbc0>
          â”‚                            â”‚    â”‚        â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x72e92d48f020>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x72e92d66dc60>
          â”” <function wrap_app_handling_exceptions at 0x72e92dd37f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x72e92d66df80>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x72e92d66dc60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x72e92d48f020>
                     â”” <function get_request_handler.<locals>.app at 0x72e92d66e980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x72e92dd37560>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'docker_client': <app.docker_client.DockerClient object at 0x72e92d847e60>, 'service_image_name': 'aldinokemal2104/go-whatsa...
                 â”‚         â”” <function run_service at 0x72e92d7aade0>
                 â”” Dependant(path_params=[], query_params=[ModelField(field_info=Query(aldinokemal2104/go-whatsapp-web-multidevice:latest), name...

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mroutes.py[0m", line [33m40[0m, in [35mrun_service[0m
    [1mdocker_client[0m[35m[1m.[0m[1mservice_up[0m[1m([0m
    [36mâ”‚             â”” [0m[36m[1m<function DockerClient.service_up at 0x72e92d64f740>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x72e92d847e60>[0m

> File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m39[0m, in [35mservice_up[0m
    [1mself[0m[35m[1m.[0m[1mclient[0m[35m[1m.[0m[1mcontainers[0m[35m[1m.[0m[1mrun[0m[1m([0m[1mimage_name[0m[1m,[0m [1mname[0m[35m[1m=[0m[1mname[0m[1m,[0m [1mports[0m[35m[1m=[0m[1mports[0m[1m,[0m [1menvironment[0m[35m[1m=[0m[1menvironment[0m[1m,[0m [1mdetach[0m[35m[1m=[0m[36m[1mTrue[0m[1m)[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”‚                  â”” [0m[36m[1m{'OS_NAME': 'Chrome', 'BASIC_AUTH': 'eleicao:2024', 'PORT': 3000, 'DEBUG': 'False', 'AUTOREPLY': 'Obrigado por entrar em cont...[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”” [0m[36m[1m{'3002/tcp': 3000}[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”” [0m[36m[1m'go-whatsapp-final-final'[0m
    [36mâ”‚    â”‚      â”‚              â”” [0m[36m[1m'aldinokemal2104/go-whatsapp-web-multidevice:latest'[0m
    [36mâ”‚    â”‚      â”” [0m[36m[1m<property object at 0x72e92d630720>[0m
    [36mâ”‚    â”” [0m[36m[1m<docker.client.DockerClient object at 0x72e92d4a9700>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x72e92d847e60>[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 876, in run
    container = self.create(image=image, command=command,
                â”‚    â”‚            â”‚              â”” None
                â”‚    â”‚            â”” 'aldinokemal2104/go-whatsapp-web-multidevice:latest'
                â”‚    â”” <function ContainerCollection.create at 0x72e92d63b560>
                â”” <docker.models.containers.ContainerCollection object at 0x72e92d4aa300>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 935, in create
    resp = self.client.api.create_container(**create_kwargs)
           â”‚    â”‚      â”‚   â”‚                  â”” {'detach': True, 'name': 'go-whatsapp-final-final', 'environment': {'OS_NAME': 'Chrome', 'BASIC_AUTH': 'eleicao:2024', 'PORT'...
           â”‚    â”‚      â”‚   â”” <function ContainerApiMixin.create_container at 0x72e92d6093a0>
           â”‚    â”‚      â”” <docker.api.client.APIClient object at 0x72e92d4a9730>
           â”‚    â”” <docker.client.DockerClient object at 0x72e92d4a9700>
           â”” <docker.models.containers.ContainerCollection object at 0x72e92d4aa300>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 440, in create_container
    return self.create_container_from_config(config, name, platform)
           â”‚    â”‚                            â”‚       â”‚     â”” None
           â”‚    â”‚                            â”‚       â”” 'go-whatsapp-final-final'
           â”‚    â”‚                            â”” {'Hostname': None, 'Domainname': None, 'ExposedPorts': {'3002/tcp': {}}, 'User': None, 'Tty': False, 'OpenStdin': False, 'Std...
           â”‚    â”” <function ContainerApiMixin.create_container_from_config at 0x72e92d6094e0>
           â”” <docker.api.client.APIClient object at 0x72e92d4a9730>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 457, in create_container_from_config
    return self._result(res, True)
           â”‚    â”‚       â”” <Response [409]>
           â”‚    â”” <function APIClient._result at 0x72e92d6265c0>
           â”” <docker.api.client.APIClient object at 0x72e92d4a9730>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 281, in _result
    self._raise_for_status(response)
    â”‚    â”‚                 â”” <Response [409]>
    â”‚    â”” <function APIClient._raise_for_status at 0x72e92d626520>
    â”” <docker.api.client.APIClient object at 0x72e92d4a9730>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
          â”” <function create_api_error_from_http_exception at 0x72e92d772020>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
          â”‚   â”‚           â”‚                     â”‚                 â”” HTTPError('409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final-final')
          â”‚   â”‚           â”‚                     â”” 'Conflict. The container name "/go-whatsapp-final-final" is already in use by container "e8699c8fc9d9e17dd07c324c785322f74698...
          â”‚   â”‚           â”” <Response [409]>
          â”‚   â”” HTTPError('409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final-final')
          â”” <class 'docker.errors.APIError'>

[31m[1mdocker.errors.APIError[0m:[1m 409 Client Error for http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final-final: Conflict ("Conflict. The container name "/go-whatsapp-final-final" is already in use by container "e8699c8fc9d9e17dd07c324c785322f74698f6fc60e249ff0e9b0ae74b4af499". You have to remove (or rename) that container to be able to reuse that name.")[0m
2024-09-19 11:03:01 | ERROR | Failed to start service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x72e92d48f020>', 'service_name': 'aldinokemal2104/go-whatsapp-web-multidevice:latest'}
[33m[1mTraceback (most recent call last):[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
    â”‚        â”” <function Response.raise_for_status at 0x72e92d74fc40>
    â”” <Response [409]>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
          â”‚         â”‚                        â”” <Response [409]>
          â”‚         â”” '409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final-final'
          â”” <class 'requests.exceptions.HTTPError'>

[31m[1mrequests.exceptions.HTTPError[0m:[1m 409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final-final[0m


[1mThe above exception was the direct cause of the following exception:[0m


[33m[1mTraceback (most recent call last):[0m

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m39[0m, in [35mservice_up[0m
    [1mself[0m[35m[1m.[0m[1mclient[0m[35m[1m.[0m[1mcontainers[0m[35m[1m.[0m[1mrun[0m[1m([0m[1mimage_name[0m[1m,[0m [1mname[0m[35m[1m=[0m[1mname[0m[1m,[0m [1mports[0m[35m[1m=[0m[1mports[0m[1m,[0m [1menvironment[0m[35m[1m=[0m[1menvironment[0m[1m,[0m [1mdetach[0m[35m[1m=[0m[36m[1mTrue[0m[1m)[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”‚                  â”” [0m[36m[1m{'OS_NAME': 'Chrome', 'BASIC_AUTH': 'eleicao:2024', 'PORT': 3000, 'DEBUG': 'False', 'AUTOREPLY': 'Obrigado por entrar em cont...[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”” [0m[36m[1m{'3002/tcp': 3000}[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”” [0m[36m[1m'go-whatsapp-final-final'[0m
    [36mâ”‚    â”‚      â”‚              â”” [0m[36m[1m'aldinokemal2104/go-whatsapp-web-multidevice:latest'[0m
    [36mâ”‚    â”‚      â”” [0m[36m[1m<property object at 0x72e92d630720>[0m
    [36mâ”‚    â”” [0m[36m[1m<docker.client.DockerClient object at 0x72e92d4a9700>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x72e92d847e60>[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 876, in run
    container = self.create(image=image, command=command,
                â”‚    â”‚            â”‚              â”” None
                â”‚    â”‚            â”” 'aldinokemal2104/go-whatsapp-web-multidevice:latest'
                â”‚    â”” <function ContainerCollection.create at 0x72e92d63b560>
                â”” <docker.models.containers.ContainerCollection object at 0x72e92d4aa300>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 935, in create
    resp = self.client.api.create_container(**create_kwargs)
           â”‚    â”‚      â”‚   â”‚                  â”” {'detach': True, 'name': 'go-whatsapp-final-final', 'environment': {'OS_NAME': 'Chrome', 'BASIC_AUTH': 'eleicao:2024', 'PORT'...
           â”‚    â”‚      â”‚   â”” <function ContainerApiMixin.create_container at 0x72e92d6093a0>
           â”‚    â”‚      â”” <docker.api.client.APIClient object at 0x72e92d4a9730>
           â”‚    â”” <docker.client.DockerClient object at 0x72e92d4a9700>
           â”” <docker.models.containers.ContainerCollection object at 0x72e92d4aa300>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 440, in create_container
    return self.create_container_from_config(config, name, platform)
           â”‚    â”‚                            â”‚       â”‚     â”” None
           â”‚    â”‚                            â”‚       â”” 'go-whatsapp-final-final'
           â”‚    â”‚                            â”” {'Hostname': None, 'Domainname': None, 'ExposedPorts': {'3002/tcp': {}}, 'User': None, 'Tty': False, 'OpenStdin': False, 'Std...
           â”‚    â”” <function ContainerApiMixin.create_container_from_config at 0x72e92d6094e0>
           â”” <docker.api.client.APIClient object at 0x72e92d4a9730>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 457, in create_container_from_config
    return self._result(res, True)
           â”‚    â”‚       â”” <Response [409]>
           â”‚    â”” <function APIClient._result at 0x72e92d6265c0>
           â”” <docker.api.client.APIClient object at 0x72e92d4a9730>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 281, in _result
    self._raise_for_status(response)
    â”‚    â”‚                 â”” <Response [409]>
    â”‚    â”” <function APIClient._raise_for_status at 0x72e92d626520>
    â”” <docker.api.client.APIClient object at 0x72e92d4a9730>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
          â”” <function create_api_error_from_http_exception at 0x72e92d772020>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
          â”‚   â”‚           â”‚                     â”‚                 â”” HTTPError('409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final-final')
          â”‚   â”‚           â”‚                     â”” 'Conflict. The container name "/go-whatsapp-final-final" is already in use by container "e8699c8fc9d9e17dd07c324c785322f74698...
          â”‚   â”‚           â”” <Response [409]>
          â”‚   â”” HTTPError('409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final-final')
          â”” <class 'docker.errors.APIError'>

[31m[1mdocker.errors.APIError[0m:[1m 409 Client Error for http+docker://localhost/v1.47/containers/create?name=go-whatsapp-final-final: Conflict ("Conflict. The container name "/go-whatsapp-final-final" is already in use by container "e8699c8fc9d9e17dd07c324c785322f74698f6fc60e249ff0e9b0ae74b4af499". You have to remove (or rename) that container to be able to reuse that name.")[0m


[1mDuring handling of the above exception, another exception occurred:[0m


[33m[1mTraceback (most recent call last):[0m

  File "<string>", line 1, in <module>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 4
               â”‚     â”” 7
               â”” <function _main at 0x72e92fde0540>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 4
           â”‚    â”” <function BaseProcess._bootstrap at 0x72e92fec9940>
           â”” <SpawnProcess name='SpawnProcess-1' parent=173887 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x72e92fec8ea0>
    â”” <SpawnProcess name='SpawnProcess-1' parent=173887 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x72e92dc17560>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-1' parent=173887 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-1' parent=173887 started>
    â”‚    â”” <function subprocess_started at 0x72e92dc0e2a0>
    â”” <SpawnProcess name='SpawnProcess-1' parent=173887 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x72e92dc4b1d0>>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x72e92dc0d440>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x72e92dc4b1d0>
           â”‚       â”” <function run at 0x72e92f15bb00>
           â”” <module 'asyncio' from '/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/__init__.py'>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           â”‚      â”‚   â”” <coroutine object Server.serve at 0x72e92dc31a80>
           â”‚      â”” <function Runner.run at 0x72e92f182fc0>
           â”” <asyncio.runners.Runner object at 0x72e92dd9cf80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           â”‚    â”‚     â”‚                  â”” <Task pending name='Task-1' coro=<Server.serve() running at /home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/pytho...
           â”‚    â”‚     â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”‚    â”” <uvloop.Loop running=True closed=False debug=False>
           â”” <asyncio.runners.Runner object at 0x72e92dd9cf80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x72e92d6f9f70>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d48ed...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x72e92d897c20>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x72e92d6f9f70>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d48ed...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d48ed...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x72e92d653dd0>
          â”” <fastapi.applications.FastAPI object at 0x72e92d897c20>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x72e92d66d940>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x72e92d5e81a0>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x72e92d653dd0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua': '"Chromium";v="128", "Not;...
          â”‚    â”‚               â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x72e92d66d940>
          â”‚    â”‚               â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x72e92d8b1580>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x72e92d5e81a0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x72e92d5e81a0>>, ...
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x72e92d653e60>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x72e92d5e81a0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x72e92d5e81a0>>, ...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x72e92d653170>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x72e92d8bc440>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x72e92d653e60>
          â”” <function wrap_app_handling_exceptions at 0x72e92dd37f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x72e92d66dbc0>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x72e92d8bc440>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x72e92d66dbc0>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x72e92d8bc440>>
          â”” <fastapi.routing.APIRouter object at 0x72e92d8bc440>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x72e92d66dbc0>
          â”‚     â”‚      â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚     â”” <function Route.handle at 0x72e92dd5d760>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x72e92d66dbc0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x72e92d66ea20>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x72e92d66dbc0>
          â”‚                            â”‚    â”‚        â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x72e92d48f020>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x72e92d66dc60>
          â”” <function wrap_app_handling_exceptions at 0x72e92dd37f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x72e92d66df80>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92d4...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x72e92d66dc60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x72e92d48f020>
                     â”” <function get_request_handler.<locals>.app at 0x72e92d66e980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x72e92dd37560>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'docker_client': <app.docker_client.DockerClient object at 0x72e92d847e60>, 'service_image_name': 'aldinokemal2104/go-whatsa...
                 â”‚         â”” <function run_service at 0x72e92d7aade0>
                 â”” Dependant(path_params=[], query_params=[ModelField(field_info=Query(aldinokemal2104/go-whatsapp-web-multidevice:latest), name...

> File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mroutes.py[0m", line [33m40[0m, in [35mrun_service[0m
    [1mdocker_client[0m[35m[1m.[0m[1mservice_up[0m[1m([0m
    [36mâ”‚             â”” [0m[36m[1m<function DockerClient.service_up at 0x72e92d64f740>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x72e92d847e60>[0m

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m43[0m, in [35mservice_up[0m
    [35m[1mraise[0m [1mValueError[0m[1m([0m[1merr_msg[0m[1m)[0m
    [36m                 â”” [0m[36m[1m'Failed to start service aldinokemal2104/go-whatsapp-web-multidevice:latest'[0m

[31m[1mValueError[0m:[1m Failed to start service aldinokemal2104/go-whatsapp-web-multidevice:latest[0m
2024-09-19 11:03:38 | INFO | Starting service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x72e92cb88fb0>', 'service_name': 'aldinokemal2104/go-whatsapp-web-multidevice:latest'}
2024-09-19 11:03:38 | ERROR | Failed to start service aldinokemal2104/go-whatsapp-web-multidevice:latest | docker client | app.docker_client | 
[33m[1mTraceback (most recent call last):[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
    â”‚        â”” <function Response.raise_for_status at 0x72e92d74fc40>
    â”” <Response [500]>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
          â”‚         â”‚                        â”” <Response [500]>
          â”‚         â”” '500 Server Error: Internal Server Error for url: http+docker://localhost/v1.47/containers/5a99894a886a6acd7974ea44444ef759ee...
          â”” <class 'requests.exceptions.HTTPError'>

[31m[1mrequests.exceptions.HTTPError[0m:[1m 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.47/containers/5a99894a886a6acd7974ea44444ef759eeb02b1ffe896efeac9a4ce3fac29d91/start[0m


[1mThe above exception was the direct cause of the following exception:[0m


[33m[1mTraceback (most recent call last):[0m

  File "<string>", line 1, in <module>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 4
               â”‚     â”” 7
               â”” <function _main at 0x72e92fde0540>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 4
           â”‚    â”” <function BaseProcess._bootstrap at 0x72e92fec9940>
           â”” <SpawnProcess name='SpawnProcess-1' parent=173887 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x72e92fec8ea0>
    â”” <SpawnProcess name='SpawnProcess-1' parent=173887 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x72e92dc17560>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-1' parent=173887 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-1' parent=173887 started>
    â”‚    â”” <function subprocess_started at 0x72e92dc0e2a0>
    â”” <SpawnProcess name='SpawnProcess-1' parent=173887 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x72e92dc4b1d0>>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x72e92dc0d440>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x72e92dc4b1d0>
           â”‚       â”” <function run at 0x72e92f15bb00>
           â”” <module 'asyncio' from '/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/__init__.py'>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           â”‚      â”‚   â”” <coroutine object Server.serve at 0x72e92dc31a80>
           â”‚      â”” <function Runner.run at 0x72e92f182fc0>
           â”” <asyncio.runners.Runner object at 0x72e92dd9cf80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           â”‚    â”‚     â”‚                  â”” <Task pending name='Task-1' coro=<Server.serve() running at /home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/pytho...
           â”‚    â”‚     â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”‚    â”” <uvloop.Loop running=True closed=False debug=False>
           â”” <asyncio.runners.Runner object at 0x72e92dd9cf80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x72e92d6f9f70>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb890...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x72e92d897c20>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x72e92d6f9f70>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb890...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb890...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x72e92d653dd0>
          â”” <fastapi.applications.FastAPI object at 0x72e92d897c20>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x72e92d66de40>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x72e92d5e81a0>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x72e92d653dd0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua': '"Chromium";v="128", "Not;...
          â”‚    â”‚               â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x72e92d66de40>
          â”‚    â”‚               â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x72e92d8b1580>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x72e92d5e81a0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x72e92d5e81a0>>, ...
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x72e92d653e60>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x72e92d5e81a0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x72e92d5e81a0>>, ...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x72e92cb88e60>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x72e92d8bc440>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x72e92d653e60>
          â”” <function wrap_app_handling_exceptions at 0x72e92dd37f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x72e92cb60e00>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x72e92d8bc440>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x72e92cb60e00>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x72e92d8bc440>>
          â”” <fastapi.routing.APIRouter object at 0x72e92d8bc440>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x72e92cb60e00>
          â”‚     â”‚      â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚     â”” <function Route.handle at 0x72e92dd5d760>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x72e92cb60e00>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x72e92d66ea20>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x72e92cb60e00>
          â”‚                            â”‚    â”‚        â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x72e92cb88fb0>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x72e92cb61080>
          â”” <function wrap_app_handling_exceptions at 0x72e92dd37f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x72e92cb61120>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x72e92cb61080>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x72e92cb88fb0>
                     â”” <function get_request_handler.<locals>.app at 0x72e92d66e980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x72e92dd37560>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'docker_client': <app.docker_client.DockerClient object at 0x72e92d847e60>, 'service_image_name': 'aldinokemal2104/go-whatsa...
                 â”‚         â”” <function run_service at 0x72e92d7aade0>
                 â”” Dependant(path_params=[], query_params=[ModelField(field_info=Query(aldinokemal2104/go-whatsapp-web-multidevice:latest), name...

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mroutes.py[0m", line [33m40[0m, in [35mrun_service[0m
    [1mdocker_client[0m[35m[1m.[0m[1mservice_up[0m[1m([0m
    [36mâ”‚             â”” [0m[36m[1m<function DockerClient.service_up at 0x72e92d64f740>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x72e92d847e60>[0m

> File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m39[0m, in [35mservice_up[0m
    [1mself[0m[35m[1m.[0m[1mclient[0m[35m[1m.[0m[1mcontainers[0m[35m[1m.[0m[1mrun[0m[1m([0m[1mimage_name[0m[1m,[0m [1mname[0m[35m[1m=[0m[1mname[0m[1m,[0m [1mports[0m[35m[1m=[0m[1mports[0m[1m,[0m [1menvironment[0m[35m[1m=[0m[1menvironment[0m[1m,[0m [1mdetach[0m[35m[1m=[0m[36m[1mTrue[0m[1m)[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”‚                  â”” [0m[36m[1m{'OS_NAME': 'Chrome', 'BASIC_AUTH': 'eleicao:2024', 'PORT': 3000, 'DEBUG': 'False', 'AUTOREPLY': 'Obrigado por entrar em cont...[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”” [0m[36m[1m{'3002/tcp': 3000}[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”” [0m[36m[1m'go-whatsapp-teste'[0m
    [36mâ”‚    â”‚      â”‚              â”” [0m[36m[1m'aldinokemal2104/go-whatsapp-web-multidevice:latest'[0m
    [36mâ”‚    â”‚      â”” [0m[36m[1m<property object at 0x72e92d630720>[0m
    [36mâ”‚    â”” [0m[36m[1m<docker.client.DockerClient object at 0x72e92d4a9700>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x72e92d847e60>[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 883, in run
    container.start()
    â”‚         â”” <function Container.start at 0x72e92d63b060>
    â”” <Container: 5a99894a886a>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 420, in start
    return self.client.api.start(self.id, **kwargs)
           â”‚    â”‚      â”‚   â”‚     â”‚    â”‚     â”” {}
           â”‚    â”‚      â”‚   â”‚     â”‚    â”” <property object at 0x72e92d630b30>
           â”‚    â”‚      â”‚   â”‚     â”” <Container: 5a99894a886a>
           â”‚    â”‚      â”‚   â”” <function ContainerApiMixin.start at 0x72e92d60aa20>
           â”‚    â”‚      â”” <docker.api.client.APIClient object at 0x72e92d4a9730>
           â”‚    â”” <docker.client.DockerClient object at 0x72e92d4a9700>
           â”” <Container: 5a99894a886a>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/utils/decorators.py", line 19, in wrapped
    return f(self, resource_id, *args, **kwargs)
           â”‚ â”‚     â”‚             â”‚       â”” {}
           â”‚ â”‚     â”‚             â”” ()
           â”‚ â”‚     â”” '5a99894a886a6acd7974ea44444ef759eeb02b1ffe896efeac9a4ce3fac29d91'
           â”‚ â”” <docker.api.client.APIClient object at 0x72e92d4a9730>
           â”” <function ContainerApiMixin.start at 0x72e92d60a980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 1136, in start
    self._raise_for_status(res)
    â”‚    â”‚                 â”” <Response [500]>
    â”‚    â”” <function APIClient._raise_for_status at 0x72e92d626520>
    â”” <docker.api.client.APIClient object at 0x72e92d4a9730>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
          â”” <function create_api_error_from_http_exception at 0x72e92d772020>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
          â”‚   â”‚           â”‚                     â”‚                 â”” HTTPError('500 Server Error: Internal Server Error for url: http+docker://localhost/v1.47/containers/5a99894a886a6acd7974ea44...
          â”‚   â”‚           â”‚                     â”” 'driver failed programming external connectivity on endpoint go-whatsapp-teste (11e82ec4cc45763bff5ce0f191f3528f5f23ab8df9dac...
          â”‚   â”‚           â”” <Response [500]>
          â”‚   â”” HTTPError('500 Server Error: Internal Server Error for url: http+docker://localhost/v1.47/containers/5a99894a886a6acd7974ea44...
          â”” <class 'docker.errors.APIError'>

[31m[1mdocker.errors.APIError[0m:[1m 500 Server Error for http+docker://localhost/v1.47/containers/5a99894a886a6acd7974ea44444ef759eeb02b1ffe896efeac9a4ce3fac29d91/start: Internal Server Error ("driver failed programming external connectivity on endpoint go-whatsapp-teste (11e82ec4cc45763bff5ce0f191f3528f5f23ab8df9dac7d6cd37d4770e9aa3d1): Bind for 0.0.0.0:3000 failed: port is already allocated")[0m
2024-09-19 11:03:38 | ERROR | Failed to start service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x72e92cb88fb0>', 'service_name': 'aldinokemal2104/go-whatsapp-web-multidevice:latest'}
[33m[1mTraceback (most recent call last):[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
    â”‚        â”” <function Response.raise_for_status at 0x72e92d74fc40>
    â”” <Response [500]>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
          â”‚         â”‚                        â”” <Response [500]>
          â”‚         â”” '500 Server Error: Internal Server Error for url: http+docker://localhost/v1.47/containers/5a99894a886a6acd7974ea44444ef759ee...
          â”” <class 'requests.exceptions.HTTPError'>

[31m[1mrequests.exceptions.HTTPError[0m:[1m 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.47/containers/5a99894a886a6acd7974ea44444ef759eeb02b1ffe896efeac9a4ce3fac29d91/start[0m


[1mThe above exception was the direct cause of the following exception:[0m


[33m[1mTraceback (most recent call last):[0m

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m39[0m, in [35mservice_up[0m
    [1mself[0m[35m[1m.[0m[1mclient[0m[35m[1m.[0m[1mcontainers[0m[35m[1m.[0m[1mrun[0m[1m([0m[1mimage_name[0m[1m,[0m [1mname[0m[35m[1m=[0m[1mname[0m[1m,[0m [1mports[0m[35m[1m=[0m[1mports[0m[1m,[0m [1menvironment[0m[35m[1m=[0m[1menvironment[0m[1m,[0m [1mdetach[0m[35m[1m=[0m[36m[1mTrue[0m[1m)[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”‚                  â”” [0m[36m[1m{'OS_NAME': 'Chrome', 'BASIC_AUTH': 'eleicao:2024', 'PORT': 3000, 'DEBUG': 'False', 'AUTOREPLY': 'Obrigado por entrar em cont...[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”” [0m[36m[1m{'3002/tcp': 3000}[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”” [0m[36m[1m'go-whatsapp-teste'[0m
    [36mâ”‚    â”‚      â”‚              â”” [0m[36m[1m'aldinokemal2104/go-whatsapp-web-multidevice:latest'[0m
    [36mâ”‚    â”‚      â”” [0m[36m[1m<property object at 0x72e92d630720>[0m
    [36mâ”‚    â”” [0m[36m[1m<docker.client.DockerClient object at 0x72e92d4a9700>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x72e92d847e60>[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 883, in run
    container.start()
    â”‚         â”” <function Container.start at 0x72e92d63b060>
    â”” <Container: 5a99894a886a>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 420, in start
    return self.client.api.start(self.id, **kwargs)
           â”‚    â”‚      â”‚   â”‚     â”‚    â”‚     â”” {}
           â”‚    â”‚      â”‚   â”‚     â”‚    â”” <property object at 0x72e92d630b30>
           â”‚    â”‚      â”‚   â”‚     â”” <Container: 5a99894a886a>
           â”‚    â”‚      â”‚   â”” <function ContainerApiMixin.start at 0x72e92d60aa20>
           â”‚    â”‚      â”” <docker.api.client.APIClient object at 0x72e92d4a9730>
           â”‚    â”” <docker.client.DockerClient object at 0x72e92d4a9700>
           â”” <Container: 5a99894a886a>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/utils/decorators.py", line 19, in wrapped
    return f(self, resource_id, *args, **kwargs)
           â”‚ â”‚     â”‚             â”‚       â”” {}
           â”‚ â”‚     â”‚             â”” ()
           â”‚ â”‚     â”” '5a99894a886a6acd7974ea44444ef759eeb02b1ffe896efeac9a4ce3fac29d91'
           â”‚ â”” <docker.api.client.APIClient object at 0x72e92d4a9730>
           â”” <function ContainerApiMixin.start at 0x72e92d60a980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 1136, in start
    self._raise_for_status(res)
    â”‚    â”‚                 â”” <Response [500]>
    â”‚    â”” <function APIClient._raise_for_status at 0x72e92d626520>
    â”” <docker.api.client.APIClient object at 0x72e92d4a9730>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
          â”” <function create_api_error_from_http_exception at 0x72e92d772020>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
          â”‚   â”‚           â”‚                     â”‚                 â”” HTTPError('500 Server Error: Internal Server Error for url: http+docker://localhost/v1.47/containers/5a99894a886a6acd7974ea44...
          â”‚   â”‚           â”‚                     â”” 'driver failed programming external connectivity on endpoint go-whatsapp-teste (11e82ec4cc45763bff5ce0f191f3528f5f23ab8df9dac...
          â”‚   â”‚           â”” <Response [500]>
          â”‚   â”” HTTPError('500 Server Error: Internal Server Error for url: http+docker://localhost/v1.47/containers/5a99894a886a6acd7974ea44...
          â”” <class 'docker.errors.APIError'>

[31m[1mdocker.errors.APIError[0m:[1m 500 Server Error for http+docker://localhost/v1.47/containers/5a99894a886a6acd7974ea44444ef759eeb02b1ffe896efeac9a4ce3fac29d91/start: Internal Server Error ("driver failed programming external connectivity on endpoint go-whatsapp-teste (11e82ec4cc45763bff5ce0f191f3528f5f23ab8df9dac7d6cd37d4770e9aa3d1): Bind for 0.0.0.0:3000 failed: port is already allocated")[0m


[1mDuring handling of the above exception, another exception occurred:[0m


[33m[1mTraceback (most recent call last):[0m

  File "<string>", line 1, in <module>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 4
               â”‚     â”” 7
               â”” <function _main at 0x72e92fde0540>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 4
           â”‚    â”” <function BaseProcess._bootstrap at 0x72e92fec9940>
           â”” <SpawnProcess name='SpawnProcess-1' parent=173887 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x72e92fec8ea0>
    â”” <SpawnProcess name='SpawnProcess-1' parent=173887 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x72e92dc17560>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-1' parent=173887 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-1' parent=173887 started>
    â”‚    â”” <function subprocess_started at 0x72e92dc0e2a0>
    â”” <SpawnProcess name='SpawnProcess-1' parent=173887 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x72e92dc4b1d0>>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x72e92dc0d440>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x72e92dc4b1d0>
           â”‚       â”” <function run at 0x72e92f15bb00>
           â”” <module 'asyncio' from '/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/__init__.py'>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           â”‚      â”‚   â”” <coroutine object Server.serve at 0x72e92dc31a80>
           â”‚      â”” <function Runner.run at 0x72e92f182fc0>
           â”” <asyncio.runners.Runner object at 0x72e92dd9cf80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           â”‚    â”‚     â”‚                  â”” <Task pending name='Task-1' coro=<Server.serve() running at /home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/pytho...
           â”‚    â”‚     â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”‚    â”” <uvloop.Loop running=True closed=False debug=False>
           â”” <asyncio.runners.Runner object at 0x72e92dd9cf80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x72e92d6f9f70>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb890...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x72e92d897c20>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x72e92d6f9f70>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb890...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb890...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x72e92d653dd0>
          â”” <fastapi.applications.FastAPI object at 0x72e92d897c20>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x72e92d66de40>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x72e92d5e81a0>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x72e92d653dd0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua': '"Chromium";v="128", "Not;...
          â”‚    â”‚               â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x72e92d66de40>
          â”‚    â”‚               â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x72e92d8b1580>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x72e92d5e81a0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x72e92d5e81a0>>, ...
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x72e92d653e60>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x72e92d5e81a0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x72e92d5e81a0>>, ...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x72e92cb88e60>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x72e92d8bc440>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x72e92d653e60>
          â”” <function wrap_app_handling_exceptions at 0x72e92dd37f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x72e92cb60e00>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x72e92d8bc440>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x72e92cb60e00>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x72e92d8bc440>>
          â”” <fastapi.routing.APIRouter object at 0x72e92d8bc440>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x72e92cb60e00>
          â”‚     â”‚      â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚     â”” <function Route.handle at 0x72e92dd5d760>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x72e92cb60e00>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x72e92d66ea20>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x72e92cb60e00>
          â”‚                            â”‚    â”‚        â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x72e92cb88fb0>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x72e92cb61080>
          â”” <function wrap_app_handling_exceptions at 0x72e92dd37f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x72e92cb61120>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x72e92cb...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x72e92cb61080>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x72e92cb88fb0>
                     â”” <function get_request_handler.<locals>.app at 0x72e92d66e980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x72e92dd37560>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'docker_client': <app.docker_client.DockerClient object at 0x72e92d847e60>, 'service_image_name': 'aldinokemal2104/go-whatsa...
                 â”‚         â”” <function run_service at 0x72e92d7aade0>
                 â”” Dependant(path_params=[], query_params=[ModelField(field_info=Query(aldinokemal2104/go-whatsapp-web-multidevice:latest), name...

> File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mroutes.py[0m", line [33m40[0m, in [35mrun_service[0m
    [1mdocker_client[0m[35m[1m.[0m[1mservice_up[0m[1m([0m
    [36mâ”‚             â”” [0m[36m[1m<function DockerClient.service_up at 0x72e92d64f740>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x72e92d847e60>[0m

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m43[0m, in [35mservice_up[0m
    [35m[1mraise[0m [1mValueError[0m[1m([0m[1merr_msg[0m[1m)[0m
    [36m                 â”” [0m[36m[1m'Failed to start service aldinokemal2104/go-whatsapp-web-multidevice:latest'[0m

[31m[1mValueError[0m:[1m Failed to start service aldinokemal2104/go-whatsapp-web-multidevice:latest[0m
2024-09-19 11:05:44 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 11:05:44 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 11:05:44 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 11:05:46 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 11:05:46 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 11:05:46 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 11:05:49 | INFO | >>> Shutingdown Application <<< | lifespan | app.logger | 
2024-09-19 11:05:49 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 11:05:55 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 11:05:55 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 11:05:55 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 11:06:01 | INFO | Docker client initialized successfully | docker client | app.docker_client | 
2024-09-19 11:06:01 | INFO | Starting service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7fe8bd362b70>', 'service_name': 'aldinokemal2104/go-whatsapp-web-multidevice:latest'}
2024-09-19 11:11:30 | INFO | Starting service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7fe8bd362b10>', 'service_name': 'go-whatsapp'}
2024-09-19 11:12:37 | INFO | >>> Shutingdown Application <<< | lifespan | app.logger | 
2024-09-19 11:12:37 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 11:12:37 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 11:12:37 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 11:12:43 | INFO | Docker client initialized successfully | docker client | app.docker_client | 
2024-09-19 11:12:43 | INFO | Starting service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7e5bff762de0>', 'service_name': 'go-whatsapp'}
2024-09-19 11:14:02 | INFO | Starting service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7e5bff5b61b0>', 'service_name': 'go-whatsapp'}
2024-09-19 11:20:32 | INFO | Starting service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7e5bff7627b0>', 'service_name': 'go-whatsapp'}
2024-09-19 11:20:32 | ERROR | Failed to start service go-whatsapp | docker client | app.docker_client | 
[33m[1mTraceback (most recent call last):[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
    â”‚        â”” <function Response.raise_for_status at 0x7e5bff82bc40>
    â”” <Response [409]>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
          â”‚         â”‚                        â”” <Response [409]>
          â”‚         â”” '409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-teste7'
          â”” <class 'requests.exceptions.HTTPError'>

[31m[1mrequests.exceptions.HTTPError[0m:[1m 409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-teste7[0m


[1mThe above exception was the direct cause of the following exception:[0m


[33m[1mTraceback (most recent call last):[0m

  File "<string>", line 1, in <module>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 4
               â”‚     â”” 10
               â”” <function _main at 0x7e5c01ee0540>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 4
           â”‚    â”” <function BaseProcess._bootstrap at 0x7e5c01fc9940>
           â”” <SpawnProcess name='SpawnProcess-2' parent=176229 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x7e5c01fc8ea0>
    â”” <SpawnProcess name='SpawnProcess-2' parent=176229 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x7e5bffedf7a0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-2' parent=176229 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-2' parent=176229 started>
    â”‚    â”” <function subprocess_started at 0x7e5bffcf22a0>
    â”” <SpawnProcess name='SpawnProcess-2' parent=176229 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x7e5bffd2f1a0>>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7e5bffcf1440>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7e5bffd2f1a0>
           â”‚       â”” <function run at 0x7e5c00d4bb00>
           â”” <module 'asyncio' from '/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/__init__.py'>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           â”‚      â”‚   â”” <coroutine object Server.serve at 0x7e5bffd15a80>
           â”‚      â”” <function Runner.run at 0x7e5c00d72fc0>
           â”” <asyncio.runners.Runner object at 0x7e5bffd2f680>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           â”‚    â”‚     â”‚                  â”” <Task pending name='Task-1' coro=<Server.serve() running at /home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/pytho...
           â”‚    â”‚     â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”‚    â”” <uvloop.Loop running=True closed=False debug=False>
           â”” <asyncio.runners.Runner object at 0x7e5bffd2f680>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7e5bffe24fe0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff762e...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x7e5bff97bc80>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7e5bffe24fe0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff762e...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff762e...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7e5bff72bdd0>
          â”” <fastapi.applications.FastAPI object at 0x7e5bff97bc80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x7e5bff745940>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x7e5bff72b3b0>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7e5bff72bdd0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua': '"Chromium";v="128", "Not;...
          â”‚    â”‚               â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x7e5bff745940>
          â”‚    â”‚               â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x7e5bff995580>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x7e5bff72b3b0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7e5bff72b3b0>>, ...
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7e5bffd56c60>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x7e5bff72b3b0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7e5bff72b3b0>>, ...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x7e5bff762d80>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x7e5bff99c200>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7e5bffd56c60>
          â”” <function wrap_app_handling_exceptions at 0x7e5bffe17f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7e5bff745a80>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x7e5bff99c200>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7e5bff745a80>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x7e5bff99c200>>
          â”” <fastapi.routing.APIRouter object at 0x7e5bff99c200>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7e5bff745a80>
          â”‚     â”‚      â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚     â”” <function Route.handle at 0x7e5bffe3d760>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7e5bff745a80>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x7e5bff746a20>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7e5bff745a80>
          â”‚                            â”‚    â”‚        â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x7e5bff7627b0>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x7e5bff745bc0>
          â”” <function wrap_app_handling_exceptions at 0x7e5bffe17f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7e5bff745d00>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x7e5bff745bc0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x7e5bff7627b0>
                     â”” <function get_request_handler.<locals>.app at 0x7e5bff746980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x7e5bffe17560>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'docker_client': <app.docker_client.DockerClient object at 0x7e5bff763020>, 'service_image_name': 'go-whatsapp', 'service_gi...
                 â”‚         â”” <function run_service at 0x7e5bff88ade0>
                 â”” Dependant(path_params=[], query_params=[ModelField(field_info=Query(aldinokemal2104/go-whatsapp-web-multidevice:latest), name...

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mroutes.py[0m", line [33m40[0m, in [35mrun_service[0m
    [1mdocker_client[0m[35m[1m.[0m[1mservice_up[0m[1m([0m
    [36mâ”‚             â”” [0m[36m[1m<function DockerClient.service_up at 0x7e5bff727740>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x7e5bff763020>[0m

> File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m39[0m, in [35mservice_up[0m
    [1mself[0m[35m[1m.[0m[1mclient[0m[35m[1m.[0m[1mcontainers[0m[35m[1m.[0m[1mrun[0m[1m([0m[1mimage_name[0m[1m,[0m [1mname[0m[35m[1m=[0m[1mname[0m[1m,[0m [1mports[0m[35m[1m=[0m[1mports[0m[1m,[0m [1menvironment[0m[35m[1m=[0m[1menvironment[0m[1m,[0m [1mdetach[0m[35m[1m=[0m[36m[1mTrue[0m[1m)[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”‚                  â”” [0m[36m[1m{'OS_NAME': 'Chrome', 'BASIC_AUTH': 'eleicao:2024', 'PORT': 3000, 'DEBUG': 'False', 'AUTOREPLY': 'Obrigado por entrar em cont...[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”” [0m[36m[1m{'3000/tcp': 3007}[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”” [0m[36m[1m'go-whatsapp-teste7'[0m
    [36mâ”‚    â”‚      â”‚              â”” [0m[36m[1m'go-whatsapp'[0m
    [36mâ”‚    â”‚      â”” [0m[36m[1m<property object at 0x7e5bff7047c0>[0m
    [36mâ”‚    â”” [0m[36m[1m<docker.client.DockerClient object at 0x7e5bff763a40>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x7e5bff763020>[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 876, in run
    container = self.create(image=image, command=command,
                â”‚    â”‚            â”‚              â”” None
                â”‚    â”‚            â”” 'go-whatsapp'
                â”‚    â”” <function ContainerCollection.create at 0x7e5bff713560>
                â”” <docker.models.containers.ContainerCollection object at 0x7e5bff839fd0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 935, in create
    resp = self.client.api.create_container(**create_kwargs)
           â”‚    â”‚      â”‚   â”‚                  â”” {'detach': True, 'name': 'go-whatsapp-teste7', 'environment': {'OS_NAME': 'Chrome', 'BASIC_AUTH': 'eleicao:2024', 'PORT': 300...
           â”‚    â”‚      â”‚   â”” <function ContainerApiMixin.create_container at 0x7e5bff6e13a0>
           â”‚    â”‚      â”” <docker.api.client.APIClient object at 0x7e5bff584170>
           â”‚    â”” <docker.client.DockerClient object at 0x7e5bff763a40>
           â”” <docker.models.containers.ContainerCollection object at 0x7e5bff839fd0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 440, in create_container
    return self.create_container_from_config(config, name, platform)
           â”‚    â”‚                            â”‚       â”‚     â”” None
           â”‚    â”‚                            â”‚       â”” 'go-whatsapp-teste7'
           â”‚    â”‚                            â”” {'Hostname': None, 'Domainname': None, 'ExposedPorts': {'3000/tcp': {}}, 'User': None, 'Tty': False, 'OpenStdin': False, 'Std...
           â”‚    â”” <function ContainerApiMixin.create_container_from_config at 0x7e5bff6e14e0>
           â”” <docker.api.client.APIClient object at 0x7e5bff584170>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 457, in create_container_from_config
    return self._result(res, True)
           â”‚    â”‚       â”” <Response [409]>
           â”‚    â”” <function APIClient._result at 0x7e5bff6fe5c0>
           â”” <docker.api.client.APIClient object at 0x7e5bff584170>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 281, in _result
    self._raise_for_status(response)
    â”‚    â”‚                 â”” <Response [409]>
    â”‚    â”” <function APIClient._raise_for_status at 0x7e5bff6fe520>
    â”” <docker.api.client.APIClient object at 0x7e5bff584170>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
          â”” <function create_api_error_from_http_exception at 0x7e5bff84a020>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
          â”‚   â”‚           â”‚                     â”‚                 â”” HTTPError('409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-teste7')
          â”‚   â”‚           â”‚                     â”” 'Conflict. The container name "/go-whatsapp-teste7" is already in use by container "e4d6882a7769c43709afd1aaa54cb87d3386fcd9f...
          â”‚   â”‚           â”” <Response [409]>
          â”‚   â”” HTTPError('409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-teste7')
          â”” <class 'docker.errors.APIError'>

[31m[1mdocker.errors.APIError[0m:[1m 409 Client Error for http+docker://localhost/v1.47/containers/create?name=go-whatsapp-teste7: Conflict ("Conflict. The container name "/go-whatsapp-teste7" is already in use by container "e4d6882a7769c43709afd1aaa54cb87d3386fcd9f78a272b8564149bafdabc1c". You have to remove (or rename) that container to be able to reuse that name.")[0m
2024-09-19 11:20:32 | ERROR | Failed to start service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7e5bff7627b0>', 'service_name': 'go-whatsapp'}
[33m[1mTraceback (most recent call last):[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
    â”‚        â”” <function Response.raise_for_status at 0x7e5bff82bc40>
    â”” <Response [409]>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
          â”‚         â”‚                        â”” <Response [409]>
          â”‚         â”” '409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-teste7'
          â”” <class 'requests.exceptions.HTTPError'>

[31m[1mrequests.exceptions.HTTPError[0m:[1m 409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-teste7[0m


[1mThe above exception was the direct cause of the following exception:[0m


[33m[1mTraceback (most recent call last):[0m

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m39[0m, in [35mservice_up[0m
    [1mself[0m[35m[1m.[0m[1mclient[0m[35m[1m.[0m[1mcontainers[0m[35m[1m.[0m[1mrun[0m[1m([0m[1mimage_name[0m[1m,[0m [1mname[0m[35m[1m=[0m[1mname[0m[1m,[0m [1mports[0m[35m[1m=[0m[1mports[0m[1m,[0m [1menvironment[0m[35m[1m=[0m[1menvironment[0m[1m,[0m [1mdetach[0m[35m[1m=[0m[36m[1mTrue[0m[1m)[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”‚                  â”” [0m[36m[1m{'OS_NAME': 'Chrome', 'BASIC_AUTH': 'eleicao:2024', 'PORT': 3000, 'DEBUG': 'False', 'AUTOREPLY': 'Obrigado por entrar em cont...[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”” [0m[36m[1m{'3000/tcp': 3007}[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”” [0m[36m[1m'go-whatsapp-teste7'[0m
    [36mâ”‚    â”‚      â”‚              â”” [0m[36m[1m'go-whatsapp'[0m
    [36mâ”‚    â”‚      â”” [0m[36m[1m<property object at 0x7e5bff7047c0>[0m
    [36mâ”‚    â”” [0m[36m[1m<docker.client.DockerClient object at 0x7e5bff763a40>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x7e5bff763020>[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 876, in run
    container = self.create(image=image, command=command,
                â”‚    â”‚            â”‚              â”” None
                â”‚    â”‚            â”” 'go-whatsapp'
                â”‚    â”” <function ContainerCollection.create at 0x7e5bff713560>
                â”” <docker.models.containers.ContainerCollection object at 0x7e5bff839fd0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 935, in create
    resp = self.client.api.create_container(**create_kwargs)
           â”‚    â”‚      â”‚   â”‚                  â”” {'detach': True, 'name': 'go-whatsapp-teste7', 'environment': {'OS_NAME': 'Chrome', 'BASIC_AUTH': 'eleicao:2024', 'PORT': 300...
           â”‚    â”‚      â”‚   â”” <function ContainerApiMixin.create_container at 0x7e5bff6e13a0>
           â”‚    â”‚      â”” <docker.api.client.APIClient object at 0x7e5bff584170>
           â”‚    â”” <docker.client.DockerClient object at 0x7e5bff763a40>
           â”” <docker.models.containers.ContainerCollection object at 0x7e5bff839fd0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 440, in create_container
    return self.create_container_from_config(config, name, platform)
           â”‚    â”‚                            â”‚       â”‚     â”” None
           â”‚    â”‚                            â”‚       â”” 'go-whatsapp-teste7'
           â”‚    â”‚                            â”” {'Hostname': None, 'Domainname': None, 'ExposedPorts': {'3000/tcp': {}}, 'User': None, 'Tty': False, 'OpenStdin': False, 'Std...
           â”‚    â”” <function ContainerApiMixin.create_container_from_config at 0x7e5bff6e14e0>
           â”” <docker.api.client.APIClient object at 0x7e5bff584170>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 457, in create_container_from_config
    return self._result(res, True)
           â”‚    â”‚       â”” <Response [409]>
           â”‚    â”” <function APIClient._result at 0x7e5bff6fe5c0>
           â”” <docker.api.client.APIClient object at 0x7e5bff584170>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 281, in _result
    self._raise_for_status(response)
    â”‚    â”‚                 â”” <Response [409]>
    â”‚    â”” <function APIClient._raise_for_status at 0x7e5bff6fe520>
    â”” <docker.api.client.APIClient object at 0x7e5bff584170>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
          â”” <function create_api_error_from_http_exception at 0x7e5bff84a020>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
          â”‚   â”‚           â”‚                     â”‚                 â”” HTTPError('409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-teste7')
          â”‚   â”‚           â”‚                     â”” 'Conflict. The container name "/go-whatsapp-teste7" is already in use by container "e4d6882a7769c43709afd1aaa54cb87d3386fcd9f...
          â”‚   â”‚           â”” <Response [409]>
          â”‚   â”” HTTPError('409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-teste7')
          â”” <class 'docker.errors.APIError'>

[31m[1mdocker.errors.APIError[0m:[1m 409 Client Error for http+docker://localhost/v1.47/containers/create?name=go-whatsapp-teste7: Conflict ("Conflict. The container name "/go-whatsapp-teste7" is already in use by container "e4d6882a7769c43709afd1aaa54cb87d3386fcd9f78a272b8564149bafdabc1c". You have to remove (or rename) that container to be able to reuse that name.")[0m


[1mDuring handling of the above exception, another exception occurred:[0m


[33m[1mTraceback (most recent call last):[0m

  File "<string>", line 1, in <module>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 4
               â”‚     â”” 10
               â”” <function _main at 0x7e5c01ee0540>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 4
           â”‚    â”” <function BaseProcess._bootstrap at 0x7e5c01fc9940>
           â”” <SpawnProcess name='SpawnProcess-2' parent=176229 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x7e5c01fc8ea0>
    â”” <SpawnProcess name='SpawnProcess-2' parent=176229 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x7e5bffedf7a0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-2' parent=176229 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-2' parent=176229 started>
    â”‚    â”” <function subprocess_started at 0x7e5bffcf22a0>
    â”” <SpawnProcess name='SpawnProcess-2' parent=176229 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x7e5bffd2f1a0>>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x7e5bffcf1440>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x7e5bffd2f1a0>
           â”‚       â”” <function run at 0x7e5c00d4bb00>
           â”” <module 'asyncio' from '/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/__init__.py'>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           â”‚      â”‚   â”” <coroutine object Server.serve at 0x7e5bffd15a80>
           â”‚      â”” <function Runner.run at 0x7e5c00d72fc0>
           â”” <asyncio.runners.Runner object at 0x7e5bffd2f680>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           â”‚    â”‚     â”‚                  â”” <Task pending name='Task-1' coro=<Server.serve() running at /home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/pytho...
           â”‚    â”‚     â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”‚    â”” <uvloop.Loop running=True closed=False debug=False>
           â”” <asyncio.runners.Runner object at 0x7e5bffd2f680>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7e5bffe24fe0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff762e...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x7e5bff97bc80>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7e5bffe24fe0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff762e...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff762e...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7e5bff72bdd0>
          â”” <fastapi.applications.FastAPI object at 0x7e5bff97bc80>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x7e5bff745940>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x7e5bff72b3b0>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x7e5bff72bdd0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua': '"Chromium";v="128", "Not;...
          â”‚    â”‚               â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x7e5bff745940>
          â”‚    â”‚               â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x7e5bff995580>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x7e5bff72b3b0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7e5bff72b3b0>>, ...
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7e5bffd56c60>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x7e5bff72b3b0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7e5bff72b3b0>>, ...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x7e5bff762d80>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x7e5bff99c200>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7e5bffd56c60>
          â”” <function wrap_app_handling_exceptions at 0x7e5bffe17f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7e5bff745a80>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x7e5bff99c200>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7e5bff745a80>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x7e5bff99c200>>
          â”” <fastapi.routing.APIRouter object at 0x7e5bff99c200>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7e5bff745a80>
          â”‚     â”‚      â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚     â”” <function Route.handle at 0x7e5bffe3d760>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7e5bff745a80>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x7e5bff746a20>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7e5bff745a80>
          â”‚                            â”‚    â”‚        â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x7e5bff7627b0>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x7e5bff745bc0>
          â”” <function wrap_app_handling_exceptions at 0x7e5bffe17f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7e5bff745d00>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7e5bff7...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x7e5bff745bc0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x7e5bff7627b0>
                     â”” <function get_request_handler.<locals>.app at 0x7e5bff746980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x7e5bffe17560>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'docker_client': <app.docker_client.DockerClient object at 0x7e5bff763020>, 'service_image_name': 'go-whatsapp', 'service_gi...
                 â”‚         â”” <function run_service at 0x7e5bff88ade0>
                 â”” Dependant(path_params=[], query_params=[ModelField(field_info=Query(aldinokemal2104/go-whatsapp-web-multidevice:latest), name...

> File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mroutes.py[0m", line [33m40[0m, in [35mrun_service[0m
    [1mdocker_client[0m[35m[1m.[0m[1mservice_up[0m[1m([0m
    [36mâ”‚             â”” [0m[36m[1m<function DockerClient.service_up at 0x7e5bff727740>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x7e5bff763020>[0m

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m43[0m, in [35mservice_up[0m
    [35m[1mraise[0m [1mValueError[0m[1m([0m[1merr_msg[0m[1m)[0m
    [36m                 â”” [0m[36m[1m'Failed to start service go-whatsapp'[0m

[31m[1mValueError[0m:[1m Failed to start service go-whatsapp[0m
2024-09-19 11:21:08 | INFO | >>> Shutingdown Application <<< | lifespan | app.logger | 
2024-09-19 11:21:08 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 11:21:08 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 11:21:08 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 11:21:11 | INFO | Docker client initialized successfully | docker client | app.docker_client | 
2024-09-19 11:21:11 | INFO | Starting service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x749fecd5eea0>', 'service_name': 'go-whatsapp'}
2024-09-19 11:21:11 | ERROR | Failed to start service go-whatsapp | docker client | app.docker_client | 
[33m[1mTraceback (most recent call last):[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
    â”‚        â”” <function Response.raise_for_status at 0x749fece23c40>
    â”” <Response [409]>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
          â”‚         â”‚                        â”” <Response [409]>
          â”‚         â”” '409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-teste7'
          â”” <class 'requests.exceptions.HTTPError'>

[31m[1mrequests.exceptions.HTTPError[0m:[1m 409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-teste7[0m


[1mThe above exception was the direct cause of the following exception:[0m


[33m[1mTraceback (most recent call last):[0m

  File "<string>", line 1, in <module>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 4
               â”‚     â”” 10
               â”” <function _main at 0x749fef4e4540>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 4
           â”‚    â”” <function BaseProcess._bootstrap at 0x749fef5cd940>
           â”” <SpawnProcess name='SpawnProcess-3' parent=176229 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x749fef5ccea0>
    â”” <SpawnProcess name='SpawnProcess-3' parent=176229 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x749fed478ec0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-3' parent=176229 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-3' parent=176229 started>
    â”‚    â”” <function subprocess_started at 0x749fed2ee2a0>
    â”” <SpawnProcess name='SpawnProcess-3' parent=176229 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x749fed32b170>>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x749fed2ed440>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x749fed32b170>
           â”‚       â”” <function run at 0x749fee347b00>
           â”” <module 'asyncio' from '/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/__init__.py'>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           â”‚      â”‚   â”” <coroutine object Server.serve at 0x749fed311a80>
           â”‚      â”” <function Runner.run at 0x749fee36efc0>
           â”” <asyncio.runners.Runner object at 0x749fee29acf0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           â”‚    â”‚     â”‚                  â”” <Task pending name='Task-1' coro=<Server.serve() running at /home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/pytho...
           â”‚    â”‚     â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”‚    â”” <uvloop.Loop running=True closed=False debug=False>
           â”” <asyncio.runners.Runner object at 0x749fee29acf0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x749fed350050>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd5eb...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x749fecf7b890>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x749fed350050>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd5eb...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd5eb...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x749fecd27e60>
          â”” <fastapi.applications.FastAPI object at 0x749fecf7b890>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x749fecd419e0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x749fecd27f50>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x749fecd27e60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua': '"Chromium";v="128", "Not;...
          â”‚    â”‚               â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x749fecd419e0>
          â”‚    â”‚               â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x749fecf91580>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x749fecd27f50>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x749fecd27f50>>, ...
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x749fecd27ce0>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x749fecd27f50>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x749fecd27f50>>, ...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x749fecd5ec60>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x749fecf7b8f0>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x749fecd27ce0>
          â”” <function wrap_app_handling_exceptions at 0x749fed413f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x749fecd41a80>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x749fecf7b8f0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x749fecd41a80>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x749fecf7b8f0>>
          â”” <fastapi.routing.APIRouter object at 0x749fecf7b8f0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x749fecd41a80>
          â”‚     â”‚      â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚     â”” <function Route.handle at 0x749fed439760>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x749fecd41a80>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x749fecd42a20>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x749fecd41a80>
          â”‚                            â”‚    â”‚        â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x749fecd5eea0>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x749fecd41bc0>
          â”” <function wrap_app_handling_exceptions at 0x749fed413f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x749fecd41d00>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x749fecd41bc0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x749fecd5eea0>
                     â”” <function get_request_handler.<locals>.app at 0x749fecd42980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x749fed413560>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'docker_client': <app.docker_client.DockerClient object at 0x749fecd5f080>, 'service_image_name': 'go-whatsapp', 'service_gi...
                 â”‚         â”” <function run_service at 0x749fece86de0>
                 â”” Dependant(path_params=[], query_params=[ModelField(field_info=Query(aldinokemal2104/go-whatsapp-web-multidevice:latest), name...

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mroutes.py[0m", line [33m40[0m, in [35mrun_service[0m
    [1mdocker_client[0m[35m[1m.[0m[1mservice_up[0m[1m([0m
    [36mâ”‚             â”” [0m[36m[1m<function DockerClient.service_up at 0x749fecd23740>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x749fecd5f080>[0m

> File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m39[0m, in [35mservice_up[0m
    [1mself[0m[35m[1m.[0m[1mclient[0m[35m[1m.[0m[1mcontainers[0m[35m[1m.[0m[1mrun[0m[1m([0m[1mimage_name[0m[1m,[0m [1mname[0m[35m[1m=[0m[1mname[0m[1m,[0m [1mports[0m[35m[1m=[0m[1mports[0m[1m,[0m [1menvironment[0m[35m[1m=[0m[1menvironment[0m[1m,[0m [1mdetach[0m[35m[1m=[0m[36m[1mTrue[0m[1m)[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”‚                  â”” [0m[36m[1m{'OS_NAME': 'Chrome', 'BASIC_AUTH': 'eleicao:2024', 'PORT': 3000, 'DEBUG': 'False', 'AUTOREPLY': 'Obrigado por entrar em cont...[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”” [0m[36m[1m{'3000/tcp': 3007}[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”” [0m[36m[1m'go-whatsapp-teste7'[0m
    [36mâ”‚    â”‚      â”‚              â”” [0m[36m[1m'go-whatsapp'[0m
    [36mâ”‚    â”‚      â”” [0m[36m[1m<property object at 0x749fecd04770>[0m
    [36mâ”‚    â”” [0m[36m[1m<docker.client.DockerClient object at 0x749fecd5fa70>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x749fecd5f080>[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 876, in run
    container = self.create(image=image, command=command,
                â”‚    â”‚            â”‚              â”” None
                â”‚    â”‚            â”” 'go-whatsapp'
                â”‚    â”” <function ContainerCollection.create at 0x749fecd0f560>
                â”” <docker.models.containers.ContainerCollection object at 0x749fece6e570>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 935, in create
    resp = self.client.api.create_container(**create_kwargs)
           â”‚    â”‚      â”‚   â”‚                  â”” {'detach': True, 'name': 'go-whatsapp-teste7', 'environment': {'OS_NAME': 'Chrome', 'BASIC_AUTH': 'eleicao:2024', 'PORT': 300...
           â”‚    â”‚      â”‚   â”” <function ContainerApiMixin.create_container at 0x749feccdd3a0>
           â”‚    â”‚      â”” <docker.api.client.APIClient object at 0x749fecb80530>
           â”‚    â”” <docker.client.DockerClient object at 0x749fecd5fa70>
           â”” <docker.models.containers.ContainerCollection object at 0x749fece6e570>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 440, in create_container
    return self.create_container_from_config(config, name, platform)
           â”‚    â”‚                            â”‚       â”‚     â”” None
           â”‚    â”‚                            â”‚       â”” 'go-whatsapp-teste7'
           â”‚    â”‚                            â”” {'Hostname': None, 'Domainname': None, 'ExposedPorts': {'3000/tcp': {}}, 'User': None, 'Tty': False, 'OpenStdin': False, 'Std...
           â”‚    â”” <function ContainerApiMixin.create_container_from_config at 0x749feccdd4e0>
           â”” <docker.api.client.APIClient object at 0x749fecb80530>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 457, in create_container_from_config
    return self._result(res, True)
           â”‚    â”‚       â”” <Response [409]>
           â”‚    â”” <function APIClient._result at 0x749feccfa5c0>
           â”” <docker.api.client.APIClient object at 0x749fecb80530>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 281, in _result
    self._raise_for_status(response)
    â”‚    â”‚                 â”” <Response [409]>
    â”‚    â”” <function APIClient._raise_for_status at 0x749feccfa520>
    â”” <docker.api.client.APIClient object at 0x749fecb80530>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
          â”” <function create_api_error_from_http_exception at 0x749fece46020>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
          â”‚   â”‚           â”‚                     â”‚                 â”” HTTPError('409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-teste7')
          â”‚   â”‚           â”‚                     â”” 'Conflict. The container name "/go-whatsapp-teste7" is already in use by container "e4d6882a7769c43709afd1aaa54cb87d3386fcd9f...
          â”‚   â”‚           â”” <Response [409]>
          â”‚   â”” HTTPError('409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-teste7')
          â”” <class 'docker.errors.APIError'>

[31m[1mdocker.errors.APIError[0m:[1m 409 Client Error for http+docker://localhost/v1.47/containers/create?name=go-whatsapp-teste7: Conflict ("Conflict. The container name "/go-whatsapp-teste7" is already in use by container "e4d6882a7769c43709afd1aaa54cb87d3386fcd9f78a272b8564149bafdabc1c". You have to remove (or rename) that container to be able to reuse that name.")[0m
2024-09-19 11:21:11 | ERROR | Failed to start service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x749fecd5eea0>', 'service_name': 'go-whatsapp'}
[33m[1mTraceback (most recent call last):[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
    â”‚        â”” <function Response.raise_for_status at 0x749fece23c40>
    â”” <Response [409]>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
          â”‚         â”‚                        â”” <Response [409]>
          â”‚         â”” '409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-teste7'
          â”” <class 'requests.exceptions.HTTPError'>

[31m[1mrequests.exceptions.HTTPError[0m:[1m 409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-teste7[0m


[1mThe above exception was the direct cause of the following exception:[0m


[33m[1mTraceback (most recent call last):[0m

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m39[0m, in [35mservice_up[0m
    [1mself[0m[35m[1m.[0m[1mclient[0m[35m[1m.[0m[1mcontainers[0m[35m[1m.[0m[1mrun[0m[1m([0m[1mimage_name[0m[1m,[0m [1mname[0m[35m[1m=[0m[1mname[0m[1m,[0m [1mports[0m[35m[1m=[0m[1mports[0m[1m,[0m [1menvironment[0m[35m[1m=[0m[1menvironment[0m[1m,[0m [1mdetach[0m[35m[1m=[0m[36m[1mTrue[0m[1m)[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”‚                  â”” [0m[36m[1m{'OS_NAME': 'Chrome', 'BASIC_AUTH': 'eleicao:2024', 'PORT': 3000, 'DEBUG': 'False', 'AUTOREPLY': 'Obrigado por entrar em cont...[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”‚           â”” [0m[36m[1m{'3000/tcp': 3007}[0m
    [36mâ”‚    â”‚      â”‚              â”‚                â”” [0m[36m[1m'go-whatsapp-teste7'[0m
    [36mâ”‚    â”‚      â”‚              â”” [0m[36m[1m'go-whatsapp'[0m
    [36mâ”‚    â”‚      â”” [0m[36m[1m<property object at 0x749fecd04770>[0m
    [36mâ”‚    â”” [0m[36m[1m<docker.client.DockerClient object at 0x749fecd5fa70>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x749fecd5f080>[0m

  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 876, in run
    container = self.create(image=image, command=command,
                â”‚    â”‚            â”‚              â”” None
                â”‚    â”‚            â”” 'go-whatsapp'
                â”‚    â”” <function ContainerCollection.create at 0x749fecd0f560>
                â”” <docker.models.containers.ContainerCollection object at 0x749fece6e570>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/models/containers.py", line 935, in create
    resp = self.client.api.create_container(**create_kwargs)
           â”‚    â”‚      â”‚   â”‚                  â”” {'detach': True, 'name': 'go-whatsapp-teste7', 'environment': {'OS_NAME': 'Chrome', 'BASIC_AUTH': 'eleicao:2024', 'PORT': 300...
           â”‚    â”‚      â”‚   â”” <function ContainerApiMixin.create_container at 0x749feccdd3a0>
           â”‚    â”‚      â”” <docker.api.client.APIClient object at 0x749fecb80530>
           â”‚    â”” <docker.client.DockerClient object at 0x749fecd5fa70>
           â”” <docker.models.containers.ContainerCollection object at 0x749fece6e570>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 440, in create_container
    return self.create_container_from_config(config, name, platform)
           â”‚    â”‚                            â”‚       â”‚     â”” None
           â”‚    â”‚                            â”‚       â”” 'go-whatsapp-teste7'
           â”‚    â”‚                            â”” {'Hostname': None, 'Domainname': None, 'ExposedPorts': {'3000/tcp': {}}, 'User': None, 'Tty': False, 'OpenStdin': False, 'Std...
           â”‚    â”” <function ContainerApiMixin.create_container_from_config at 0x749feccdd4e0>
           â”” <docker.api.client.APIClient object at 0x749fecb80530>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/container.py", line 457, in create_container_from_config
    return self._result(res, True)
           â”‚    â”‚       â”” <Response [409]>
           â”‚    â”” <function APIClient._result at 0x749feccfa5c0>
           â”” <docker.api.client.APIClient object at 0x749fecb80530>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 281, in _result
    self._raise_for_status(response)
    â”‚    â”‚                 â”” <Response [409]>
    â”‚    â”” <function APIClient._raise_for_status at 0x749feccfa520>
    â”” <docker.api.client.APIClient object at 0x749fecb80530>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
          â”” <function create_api_error_from_http_exception at 0x749fece46020>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
          â”‚   â”‚           â”‚                     â”‚                 â”” HTTPError('409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-teste7')
          â”‚   â”‚           â”‚                     â”” 'Conflict. The container name "/go-whatsapp-teste7" is already in use by container "e4d6882a7769c43709afd1aaa54cb87d3386fcd9f...
          â”‚   â”‚           â”” <Response [409]>
          â”‚   â”” HTTPError('409 Client Error: Conflict for url: http+docker://localhost/v1.47/containers/create?name=go-whatsapp-teste7')
          â”” <class 'docker.errors.APIError'>

[31m[1mdocker.errors.APIError[0m:[1m 409 Client Error for http+docker://localhost/v1.47/containers/create?name=go-whatsapp-teste7: Conflict ("Conflict. The container name "/go-whatsapp-teste7" is already in use by container "e4d6882a7769c43709afd1aaa54cb87d3386fcd9f78a272b8564149bafdabc1c". You have to remove (or rename) that container to be able to reuse that name.")[0m


[1mDuring handling of the above exception, another exception occurred:[0m


[33m[1mTraceback (most recent call last):[0m

  File "<string>", line 1, in <module>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               â”‚     â”‚   â”” 4
               â”‚     â”” 10
               â”” <function _main at 0x749fef4e4540>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           â”‚    â”‚          â”” 4
           â”‚    â”” <function BaseProcess._bootstrap at 0x749fef5cd940>
           â”” <SpawnProcess name='SpawnProcess-3' parent=176229 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    â”‚    â”” <function BaseProcess.run at 0x749fef5ccea0>
    â”” <SpawnProcess name='SpawnProcess-3' parent=176229 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    â”‚    â”‚        â”‚    â”‚        â”‚    â”” {'config': <uvicorn.config.Config object at 0x749fed478ec0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    â”‚    â”‚        â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-3' parent=176229 started>
    â”‚    â”‚        â”‚    â”” ()
    â”‚    â”‚        â”” <SpawnProcess name='SpawnProcess-3' parent=176229 started>
    â”‚    â”” <function subprocess_started at 0x749fed2ee2a0>
    â”” <SpawnProcess name='SpawnProcess-3' parent=176229 started>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    â”‚              â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    â”” <bound method Server.run of <uvicorn.server.Server object at 0x749fed32b170>>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           â”‚       â”‚   â”‚    â”‚             â”” [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           â”‚       â”‚   â”‚    â”” <function Server.serve at 0x749fed2ed440>
           â”‚       â”‚   â”” <uvicorn.server.Server object at 0x749fed32b170>
           â”‚       â”” <function run at 0x749fee347b00>
           â”” <module 'asyncio' from '/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/__init__.py'>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           â”‚      â”‚   â”” <coroutine object Server.serve at 0x749fed311a80>
           â”‚      â”” <function Runner.run at 0x749fee36efc0>
           â”” <asyncio.runners.Runner object at 0x749fee29acf0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           â”‚    â”‚     â”‚                  â”” <Task pending name='Task-1' coro=<Server.serve() running at /home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/pytho...
           â”‚    â”‚     â”” <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           â”‚    â”” <uvloop.Loop running=True closed=False debug=False>
           â”” <asyncio.runners.Runner object at 0x749fee29acf0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x749fed350050>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd5eb...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x749fecf7b890>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x749fed350050>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd5eb...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd5eb...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x749fecd27e60>
          â”” <fastapi.applications.FastAPI object at 0x749fecf7b890>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x749fecd419e0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x749fecd27f50>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x749fecd27e60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua': '"Chromium";v="128", "Not;...
          â”‚    â”‚               â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x749fecd419e0>
          â”‚    â”‚               â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x749fecf91580>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x749fecd27f50>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x749fecd27f50>>, ...
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x749fecd27ce0>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x749fecd27f50>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x749fecd27f50>>, ...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x749fecd5ec60>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x749fecf7b8f0>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x749fecd27ce0>
          â”” <function wrap_app_handling_exceptions at 0x749fed413f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x749fecd41a80>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x749fecf7b8f0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x749fecd41a80>
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x749fecf7b8f0>>
          â”” <fastapi.routing.APIRouter object at 0x749fecf7b8f0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x749fecd41a80>
          â”‚     â”‚      â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚     â”” <function Route.handle at 0x749fed439760>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x749fecd41a80>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x749fecd42a20>
          â”” APIRoute(path='/service/run', name='run_service', methods=['POST'])
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x749fecd41a80>
          â”‚                            â”‚    â”‚        â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x749fecd5eea0>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x749fecd41bc0>
          â”” <function wrap_app_handling_exceptions at 0x749fed413f60>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x749fecd41d00>
          â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x749fecd...
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x749fecd41bc0>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x749fecd5eea0>
                     â”” <function get_request_handler.<locals>.app at 0x749fecd42980>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x749fed413560>
  File "/home/gabrielfmcoelho/miniconda3/envs/py-docker-eleicao/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'docker_client': <app.docker_client.DockerClient object at 0x749fecd5f080>, 'service_image_name': 'go-whatsapp', 'service_gi...
                 â”‚         â”” <function run_service at 0x749fece86de0>
                 â”” Dependant(path_params=[], query_params=[ModelField(field_info=Query(aldinokemal2104/go-whatsapp-web-multidevice:latest), name...

> File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mroutes.py[0m", line [33m40[0m, in [35mrun_service[0m
    [1mdocker_client[0m[35m[1m.[0m[1mservice_up[0m[1m([0m
    [36mâ”‚             â”” [0m[36m[1m<function DockerClient.service_up at 0x749fecd23740>[0m
    [36mâ”” [0m[36m[1m<app.docker_client.DockerClient object at 0x749fecd5f080>[0m

  File "[32m/home/gabrielfmcoelho/projetos/servicos/py-docker-eleicao/app/[0m[32m[1mdocker_client.py[0m", line [33m43[0m, in [35mservice_up[0m
    [35m[1mraise[0m [1mValueError[0m[1m([0m[1merr_msg[0m[1m)[0m
    [36m                 â”” [0m[36m[1m'Failed to start service go-whatsapp'[0m

[31m[1mValueError[0m:[1m Failed to start service go-whatsapp[0m
2024-09-19 11:32:02 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 11:32:02 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 11:32:02 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 11:32:21 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 11:32:21 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 11:32:21 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 11:33:10 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 11:33:10 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 11:33:10 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 11:33:25 | INFO | >>> Shutingdown Application <<< | lifespan | app.logger | 
2024-09-19 11:33:26 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 11:33:26 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 11:33:26 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 11:33:31 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 11:33:31 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 11:33:31 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 11:34:15 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 11:34:15 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 11:34:15 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 11:36:30 | INFO | Docker client initialized successfully | docker client | app.docker_client | 
2024-09-19 11:36:30 | INFO | Searching for service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7ec2698b5f70>'}
2024-09-19 11:38:10 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 11:38:10 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 11:38:10 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 11:38:15 | INFO | Docker client initialized successfully | docker client | app.docker_client | 
2024-09-19 11:38:15 | INFO | Searching for service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7604d7a1fbc0>'}
2024-09-19 11:48:14 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 11:48:14 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 11:48:14 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 11:48:26 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 11:48:26 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 11:48:26 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 11:48:28 | INFO | Docker client initialized successfully | docker client | app.docker_client | 
2024-09-19 11:48:28 | INFO | Searching for service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x72518c167a10>'}
2024-09-19 11:50:27 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 11:50:27 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 11:50:27 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 11:50:33 | INFO | Docker client initialized successfully | docker client | app.docker_client | 
2024-09-19 11:50:33 | INFO | Searching for service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x701ed6167a70>'}
2024-09-19 11:54:36 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 11:54:36 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 11:54:36 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 11:54:41 | INFO | Docker client initialized successfully | docker client | app.docker_client | 
2024-09-19 11:54:41 | INFO | Searching for service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7899d5374ad0>'}
2024-09-19 11:56:02 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 11:56:02 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 11:56:02 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 11:56:06 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 11:56:06 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 11:56:06 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 11:56:11 | INFO | Docker client initialized successfully | docker client | app.docker_client | 
2024-09-19 11:56:11 | INFO | Searching for service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7a6195cad790>'}
2024-09-19 11:58:55 | INFO | >>> Shutingdown Application <<< | lifespan | app.logger | 
2024-09-19 11:58:55 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 11:58:55 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 11:58:55 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 11:58:55 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 13:33:53 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 13:33:53 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 13:33:53 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 13:34:26 | INFO | Docker client initialized successfully | docker client | app.docker_client | 
2024-09-19 13:34:26 | INFO | Searching for service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x72e095404620>'}
2024-09-19 13:34:54 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 13:34:54 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 13:34:54 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 13:35:20 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 13:35:20 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 13:35:20 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 13:35:34 | INFO | >>> Shutingdown Application <<< | lifespan | app.logger | 
2024-09-19 13:35:34 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 13:35:34 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 13:35:34 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 13:35:37 | INFO | Docker client initialized successfully | docker client | app.docker_client | 
2024-09-19 13:35:37 | INFO | Searching for service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x79087cd21c10>'}
2024-09-19 13:36:17 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 13:36:17 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 13:36:17 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 13:36:30 | INFO | Docker client initialized successfully | docker client | app.docker_client | 
2024-09-19 13:36:30 | INFO | Searching for service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7e09e96f1880>'}
2024-09-19 13:36:44 | INFO | Stopping service evolution_api | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7e09e97009b0>'}
2024-09-19 13:36:52 | INFO | Searching for service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7e09e9700a40>'}
2024-09-19 13:36:54 | INFO | Searching for service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7e09e9700710>'}
2024-09-19 13:37:39 | INFO | >>> Shutingdown Application <<< | lifespan | app.logger | 
2024-09-19 13:38:04 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 13:38:04 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 13:38:04 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 13:38:06 | INFO | Docker client initialized successfully | docker client | app.docker_client | 
2024-09-19 13:38:06 | INFO | Searching for service | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x703f28b1d490>'}
2024-09-19 13:38:25 | INFO | Stopping service evolution_api | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x703f28b2c350>'}
2024-09-19 13:39:37 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 13:39:37 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 13:39:37 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 13:40:43 | INFO | Docker client initialized successfully | docker client | app.docker_client | 
2024-09-19 13:40:43 | INFO | Stopping service evolution_api | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7b9759ff5550>'}
2024-09-19 13:41:22 | INFO | Stopping service rebrow | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7b975a027b60>'}
2024-09-19 13:41:33 | INFO | Stopping service mongodb-express | docker service | app.routes | {'request': '<starlette.requests.Request object at 0x7b975a004620>'}
2024-09-19 13:43:25 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 13:43:25 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 13:43:25 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 13:43:29 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 13:43:29 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 13:43:29 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 13:44:11 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 13:44:11 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 13:44:11 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 13:44:20 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 13:44:20 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 13:44:20 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 13:44:40 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 13:44:40 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 13:44:40 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 13:51:21 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 13:51:21 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 13:51:21 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 13:51:24 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 13:51:24 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 13:51:24 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 13:52:38 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 13:52:38 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 13:52:38 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 13:55:01 | INFO | Logger initialized successfully | logger | app.logger | 
2024-09-19 13:55:01 | INFO | -------------------------------------------------- | lifespan | app.logger | 
2024-09-19 13:55:01 | INFO | >>> Initializing Application <<< | lifespan | app.logger | 
2024-09-19 13:55:58 | INFO | >>> Shutingdown Application <<< | lifespan | app.logger | 
